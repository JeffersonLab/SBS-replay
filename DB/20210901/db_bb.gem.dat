# Date/Time = Fri Jan 1 11:00:00 2021 
# start database from the beginning of time 
# BigBite GEM database during GMN run from start of experiment in Oct. 2021 through 11/17/2021 when the J2 layer was replaced by a U/V layer.
-------[ 2021-01-01 00:00:00 ] 
# database format: the tracker consists of a collection of modules: 
# database properties will be organized by module, not by "plane" as in old SBS-offline

# Geometry and calibration/decode information:

# BigBite GEMs as in the GMN run: Layer 0 = U/V (1 module), Layer 1 = 3X INFN X/Y, Layer 2 = 1X U/V, Layer 3 = 3X INFN X/Y, Layer 4 = 4X UVA X/Y
bb.gem.modules = m0     m1 m2 m3    m4   m5 m6 m7    m8 m9 m10 m11

bb.gem.m0.layer = 0

bb.gem.m1.layer = 1
bb.gem.m2.layer = 1
bb.gem.m3.layer = 1

bb.gem.m4.layer = 2

bb.gem.m5.layer = 3
bb.gem.m6.layer = 3
bb.gem.m7.layer = 3

bb.gem.m8.layer = 4
bb.gem.m9.layer = 4
bb.gem.m10.layer = 4
bb.gem.m11.layer = 4

# APV mapping configurations: 0 = INFN, 1 = UVA X/Y, 2 = UVA U/V
bb.gem.m0.apvmap = 2 # UVA U/V

bb.gem.m1.apvmap = 0 # INFN
bb.gem.m2.apvmap = 0
bb.gem.m3.apvmap = 0

bb.gem.m4.apvmap = 2 # U/V

bb.gem.m5.apvmap = 0 # INFN
bb.gem.m6.apvmap = 0
bb.gem.m7.apvmap = 0

bb.gem.m8.apvmap = 1 # UVA X/Y
bb.gem.m9.apvmap = 1 # UVA X/Y
bb.gem.m10.apvmap = 1 # UVA X/Y
bb.gem.m11.apvmap = 1 # UVA X/Y

# basic flags controlling decoding:
bb.gem.pedestalmode = 0
bb.gem.commonmode_flag = 2 # 1 = Danning, 0 = sorting, 2 = histogramming
bb.gem.commonmode_online_flag = 3 # 3 = Danning method during GMn, 4 = Danning \
method during GEn
# commenting this out as we can use the new default value of 640
#bb.gem.chan_cm_flags = 512 # defines the "dummy" reference channel for storing the cm_enable and build_all_samples flags
bb.gem.commonmode_nstriplo = 28
bb.gem.commonmode_nstriphi = 28
bb.gem.commonmode_niter = 3
bb.gem.commonmode_minstrips = 20

bb.gem.pedsub_online = 1 # normally this should always be set to 1
bb.gem.dump_geometry_info = 0
bb.gem.efficiency_bin_width_1D = 0.02
bb.gem.efficiency_bin_width_2D = 0.02
bb.gem.commonmode_range_nsigma = 5.0

bb.gem.m1.commonmode_range_nsigma = 10.0
bb.gem.m2.commonmode_range_nsigma = 10.0
bb.gem.m3.commonmode_range_nsigma = 10.0

# (online) Danning-method parameters:
bb.gem.commonmode_danning_nsigma_cut = 3.0

# histogramming-method parameters: 
bb.gem.commonmode_binwidth_nsigma = 2.0
bb.gem.commonmode_scanrange_nsigma = 5.0
bb.gem.commonmode_stepsize_nsigma = 0.25

bb.gem.correct_common_mode = 1
bb.gem.correct_common_mode_minstrips = 15
bb.gem.correct_common_mode_nsigma = 2.0

bb.gem.use_commonmode_rolling_average = 1
bb.gem.commonmode_nevents_lookback = 10

bb.gem.plot_common_mode = 1



# these may need adjusting:
bb.gem.usestriptimingcut = 0
bb.gem.useTSchi2cut = 0
bb.gem.maxstrip_t0 = 85.4
bb.gem.maxstrip_tcut = 21.0
bb.gem.addstrip_tcut = 21.0
bb.gem.addstrip_ccor_cut = 0.4
bb.gem.suppressfirstlast = 0

bb.gem.modulegain = 1

bb.gem.plot_event_info = 1

# to start with, let's not worry about the misalignments, let's put everything at its nominal/ideal position:

#bb.gem.m0.position = 0 0 0

# initial guesses:
# in the INFN X/Y layers, the "GEMPOS" index that defines the global module number runs from bottom to top
#bb.gem.m1.position = 0.535 0 0.1288
#bb.gem.m2.position =      0 0 0.1288
#bb.gem.m3.position = -0.535  0 0.1288

#bb.gem.m4.position = 0 0 0.2781

#bb.gem.m5.position =  0.535 0 0.4112
#bb.gem.m6.position =      0 0 0.4112
#bb.gem.m7.position = -0.535 0 0.4112

# in the UVA X/Y layer, the "GEMPOS" index that defines the global module number runs from top to bottom
#bb.gem.m8.position = -0.768 0 1.570
#bb.gem.m9.position = -0.256 0 1.534
#bb.gem.m10.position = 0.256 0 1.570
#bb.gem.m11.position = 0.768 0 1.534

#bb.gem.m0.angle = 0 0 0

#bb.gem.m1.angle = 0 0 0
#bb.gem.m2.angle = 0 0 0
#bb.gem.m3.angle = 0 0 0

#bb.gem.m4.angle = 0 0 0

#bb.gem.m5.angle = 0 0 0
#bb.gem.m6.angle = 0 0 0
#bb.gem.m7.angle = 0 0 0

#bb.gem.m8.angle = 0 0 0
#bb.gem.m9.angle = 0 0 0
#bb.gem.m10.angle = 0 0 0
#bb.gem.m11.angle = 0 0 0

# First alignment results (UVA layers only):
#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =           0.535               0          0.1288
#bb.gem.m1.angle =               0               0               0
#bb.gem.m2.position =               0               0          0.1288
#bb.gem.m2.angle =               0               0               0
#bb.gem.m3.position =          -0.535               0          0.1288
#bb.gem.m3.angle =               0               0               0
#bb.gem.m4.position =     -0.00821202      0.00406697        0.278831
#bb.gem.m4.angle =       0.0421632     -0.00770176       -0.256661
#bb.gem.m5.position =           0.535               0          0.4112
#bb.gem.m5.angle =               0               0               0
#bb.gem.m6.position =               0               0          0.4112
#bb.gem.m6.angle =               0               0               0
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =       -0.768602      0.00189088         1.57228
#bb.gem.m8.angle =        0.287157       0.0497893      -0.0167777
#bb.gem.m9.position =       -0.253387     -0.00198992         1.53365
#bb.gem.m9.angle =       0.0660782       -0.151838        -0.12117
#bb.gem.m10.position =         0.25814     -0.00556479         1.57406
#bb.gem.m10.angle =        0.178343       -0.107656       -0.119409
#bb.gem.m11.position =        0.768809      -0.0121981         1.53247
#bb.gem.m11.angle =       -0.612792       -0.380139        0.182686
# Alignment 2nd iteration (UVA layers only):
#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =           0.535               0          0.1288
#bb.gem.m1.angle =               0               0               0
#bb.gem.m2.position =               0               0          0.1288
#bb.gem.m2.angle =               0               0               0
#bb.gem.m3.position =          -0.535               0          0.1288
#bb.gem.m3.angle =               0               0               0
#bb.gem.m4.position =     -0.00902501      0.00449594        0.278757
#bb.gem.m4.angle =     -0.00602692      -0.0323214       -0.295959
#bb.gem.m5.position =           0.535               0          0.4112
#bb.gem.m5.angle =               0               0               0
#bb.gem.m6.position =               0               0          0.4112
#bb.gem.m6.angle =               0               0               0
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =       -0.767349      0.00181506         1.57119
#bb.gem.m8.angle =        0.138463       -0.233331       -0.158902
#bb.gem.m9.position =       -0.253518     -0.00201252         1.53283
#bb.gem.m9.angle =       -0.121823       -0.209282       -0.221751
#bb.gem.m10.position =         0.25784     -0.00698227         1.57467
#bb.gem.m10.angle =       0.0577716       -0.086862       -0.188649
#bb.gem.m11.position =        0.769169      -0.0117417         1.53331
#bb.gem.m11.angle =       -0.733937       -0.554105      -0.0143921
# Alignment 3rd iteration (UVA layers only)
#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =           0.535               0          0.1288
#bb.gem.m1.angle =               0               0               0
#bb.gem.m2.position =               0               0          0.1288
#bb.gem.m2.angle =               0               0               0
#bb.gem.m3.position =          -0.535               0          0.1288
#bb.gem.m3.angle =               0               0               0
#bb.gem.m4.position =     -0.00913963       0.0045326        0.278676 
#bb.gem.m4.angle =      -0.0105214      -0.0296677        -0.30133
#bb.gem.m5.position =           0.535               0          0.4112
#bb.gem.m5.angle =               0               0               0
#bb.gem.m6.position =               0               0          0.4112
#bb.gem.m6.angle =               0               0               0
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =       -0.766813      0.00180247         1.57071
#bb.gem.m8.angle =       0.0804257       -0.237145       -0.202136
#bb.gem.m9.position =       -0.253846      -0.0020081         1.53264
#bb.gem.m9.angle =       -0.183899       -0.155404       -0.256244
#bb.gem.m10.position =        0.257561     -0.00737937          1.5745
#bb.gem.m10.angle =      0.00742667      -0.0880552       -0.206393
#bb.gem.m11.position =        0.769244      -0.0116252         1.53332
#bb.gem.m11.angle =       -0.857941       -0.656681      -0.0881281
# alignment 4th iteration (UVA layers plus INFN J0): Eventually we might need time-dependent alignment params:
#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =        0.529885      -0.0098546        0.132296
#bb.gem.m1.angle =       0.0195618       -0.240395       -0.121741
#bb.gem.m2.position =     -0.00505968     -0.00686753         0.13001
#bb.gem.m2.angle =       0.0119132       0.0354303        -0.34864
#bb.gem.m3.position =       -0.541103     -0.00331867        0.130722
#bb.gem.m3.angle =       -0.191761        0.122195       -0.363729
#bb.gem.m4.position =     -0.00808782      0.00632119        0.278401
#bb.gem.m4.angle =      -0.0113032     -0.00483909        -0.28855
#bb.gem.m5.position =           0.535               0          0.4112
#bb.gem.m5.angle =               0               0               0
#bb.gem.m6.position =               0               0          0.4112
#bb.gem.m6.angle =               0               0               0
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =       -0.766594      0.00222772         1.57114
#bb.gem.m8.angle =       0.0439763       -0.251011       -0.220488
#bb.gem.m9.position =       -0.253884     -0.00199037         1.53204
#bb.gem.m9.angle =       -0.193856       -0.168662       -0.274617
#bb.gem.m10.position =         0.25759     -0.00747815         1.57378
#bb.gem.m10.angle =      0.00966997      -0.0921889       -0.221361
#bb.gem.m11.position =        0.769493      -0.0110257          1.5326
#bb.gem.m11.angle =       -0.811449        -0.63143       -0.138899
# first round of 5-layer alignment, September 26:
#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =        0.530161      0.00122419        0.132135
#bb.gem.m1.angle =     -0.00579893       -0.236448       -0.164099
#bb.gem.m2.position =     -0.00472469      0.00450983        0.130035
#bb.gem.m2.angle =       -0.017921       0.0516765       -0.361467
#bb.gem.m3.position =       -0.540876      0.00822546        0.131145
#bb.gem.m3.angle =       -0.199382        0.164808       -0.365438
#bb.gem.m4.position =     -0.00744453       0.0057906        0.278257
#bb.gem.m4.angle =       0.0264833       0.0122006       -0.257475
#bb.gem.m5.position =        0.525269     0.000809933        0.415358
#bb.gem.m5.angle =        0.154401        0.058399       -0.171539
#bb.gem.m6.position =     -0.00949246       0.0016568        0.415637
#bb.gem.m6.angle =        0.311496        0.201536      -0.0308564
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =        -0.76439    -0.000293366         1.56941
#bb.gem.m8.angle =       -0.227179       -0.293331       -0.453812
#bb.gem.m9.position =       -0.250867     -0.00170947         1.53025
#bb.gem.m9.angle =       -0.344905       -0.178442       -0.397411
#bb.gem.m10.position =         0.25759     -0.00747815         1.57378
#bb.gem.m10.angle =      0.00966998      -0.0922256       -0.221361
#bb.gem.m11.position =        0.769493      -0.0110257          1.5326
#bb.gem.m11.angle =         -0.8114         -0.6294       -0.138891
# better 5-layer alignment after fixing decode map issue (fiber swap), Sept. 27, 2021:
bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =         0.53004      0.00122346        0.132294
bb.gem.m1.angle =      0.00730057        -0.23551       -0.157008
bb.gem.m2.position =     -0.00483181      0.00453899        0.130173
bb.gem.m2.angle =      -0.0201476       0.0430749       -0.361586
bb.gem.m3.position =       -0.540962      0.00830375        0.131113
bb.gem.m3.angle =       -0.174489        0.120442       -0.372539
bb.gem.m4.position =     -0.00767748      0.00564678        0.278521
bb.gem.m4.angle =      -0.0046367       0.0189606       -0.277188
bb.gem.m5.position =        0.524853      0.00032359        0.415576
bb.gem.m5.angle =        0.168737       0.0437047       -0.166935
bb.gem.m6.position =      -0.0100786      0.00118932         0.41612
bb.gem.m6.angle =         0.30627         0.18866      -0.0205122
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =       -0.764335     0.000668296         1.57006
bb.gem.m8.angle =       -0.095146       -0.216054       -0.378275
bb.gem.m9.position =       -0.252238     -0.00208911         1.53116
bb.gem.m9.angle =        -0.20089       -0.133872       -0.301345
bb.gem.m10.position =        0.258417     -0.00797151         1.57407
bb.gem.m10.angle =       0.0303194       -0.194166       -0.267587
bb.gem.m11.position =        0.771015      -0.0119037         1.53384
bb.gem.m11.angle =       -0.500268       -0.357792       -0.250312


# we MAY need to adjust the size on the U/V layers, but for now let's just use a nominal 40x150 cm^2:

bb.gem.m0.size = 1.50 0.40 0.001

bb.gem.m1.size = 0.512 0.4096 0.001
bb.gem.m2.size = 0.512 0.4096 0.001
bb.gem.m3.size = 0.512 0.4096 0.001

bb.gem.m4.size = 1.50 0.40 0.001

bb.gem.m5.size = 0.512 0.4096 0.001
bb.gem.m6.size = 0.512 0.4096 0.001
bb.gem.m7.size = 0.512 0.4096 0.001

bb.gem.m8.size = 0.512 0.6144 0.001
bb.gem.m9.size = 0.512 0.6144 0.001
bb.gem.m10.size = 0.512 0.6144 0.001
bb.gem.m11.size = 0.512 0.6144 0.001


# strip angles (as measured wrt +X direction of transport coordinate system):

# in Sean's schematic, the pink strips are "V" and the blue strips are "U":
# both U and V strip indices run in the opposite direction from the +X axis of transport coordinates.
# the "U" angle should be -30 + 180 degrees or -30 - 180 degrees = 150 or -210 degrees
# the "V" angle should be 30 - 180 degrees or 30 + 180 degrees = 210 or -150 degrees
bb.gem.m0.uangle = 150.0
bb.gem.m0.vangle = -150.0

# for the INFN X/Y modules only the X-axis direction needs to be reversed
bb.gem.m1.uangle = 180.0
bb.gem.m1.vangle =  90.0
bb.gem.m2.uangle = 180.0
bb.gem.m2.vangle =  90.0
bb.gem.m3.uangle = 180.0
bb.gem.m3.vangle =  90.0

bb.gem.m4.uangle = 150.0
bb.gem.m4.vangle = -150.0

bb.gem.m5.uangle = 180.0
bb.gem.m5.vangle =  90.0
bb.gem.m6.uangle = 180.0
bb.gem.m6.vangle =  90.0
bb.gem.m7.uangle = 180.0
bb.gem.m7.vangle =  90.0

# for the UVA X/Y modules the "X" axis coincides with the direction of transport coordinates but the "Y" axis is opposite the direction of transport coordinates:
# as confirmed by Sean Jeffas:

bb.gem.m8.uangle = 0.0
bb.gem.m8.vangle = -90.0
bb.gem.m9.uangle = 0.0
bb.gem.m9.vangle = -90.0
bb.gem.m10.uangle = 0.0
bb.gem.m10.vangle = -90.0
bb.gem.m11.uangle = 0.0
bb.gem.m11.vangle = -90.0

# U/V strip offsets: for X/Y GEMS, INFN and UVA alike, we are probably safe to stick with (0,0).
# for U/V strip GEMs, the needed offsets are non-zero:

# U offsets:
bb.gem.m0.uoffset = 0.0108

bb.gem.m1.uoffset = 0.0
bb.gem.m2.uoffset = 0.0
bb.gem.m3.uoffset = 0.0

bb.gem.m4.uoffset = 0.0108

bb.gem.m5.uoffset = 0.0
bb.gem.m6.uoffset = 0.0
bb.gem.m7.uoffset = 0.0

bb.gem.m8.uoffset = 0.0
bb.gem.m9.uoffset = 0.0
bb.gem.m10.uoffset = 0.0
bb.gem.m11.uoffset = 0.0

# V offsets:
bb.gem.m0.voffset = 0.0108

bb.gem.m1.voffset = 0.0
bb.gem.m2.voffset = 0.0
bb.gem.m3.voffset = 0.0

bb.gem.m4.voffset = 0.0108

bb.gem.m5.voffset = 0.0
bb.gem.m6.voffset = 0.0
bb.gem.m7.voffset = 0.0

bb.gem.m8.voffset = 0.0
bb.gem.m9.voffset = 0.0
bb.gem.m10.voffset = 0.0
bb.gem.m11.voffset = 0.0

# strip counts: these are easy for the X/Y modules but less trivial for the U/V modules:

# to start with, we set the U/V layer strip count equal to 128 times the total number of APV cards.
# however, not all physical readout strips are connected to APV cards and not all APV cards have
# all channels connected to physical readout strips, so we probably will need an additional
# optional database parameter to specify the "strip offset" from the physical center of the GEM active area:
# for now, we keep nstripsu,v = 3,840 for the U/V strip GEMs, changing this parameter would change the definition of uoffset and voffset
bb.gem.m0.nstripsu = 3840
bb.gem.m0.nstripsv = 3840

bb.gem.m1.nstripsu = 1280
bb.gem.m1.nstripsv = 1024
bb.gem.m2.nstripsu = 1280
bb.gem.m2.nstripsv = 1024
bb.gem.m3.nstripsu = 1280
bb.gem.m3.nstripsv = 1024

bb.gem.m4.nstripsu = 3840
bb.gem.m4.nstripsv = 3840

bb.gem.m5.nstripsu = 1280
bb.gem.m5.nstripsv = 1024
bb.gem.m6.nstripsu = 1280
bb.gem.m6.nstripsv = 1024
bb.gem.m7.nstripsu = 1280
bb.gem.m7.nstripsv = 1024

bb.gem.m8.nstripsu = 1280
bb.gem.m8.nstripsv = 1536
bb.gem.m9.nstripsu = 1280
bb.gem.m9.nstripsv = 1536
bb.gem.m10.nstripsu = 1280
bb.gem.m10.nstripsv = 1536
bb.gem.m11.nstripsu = 1280
bb.gem.m11.nstripsv = 1536

# all modules have the same strip pitch along both dimensions, 0.4 mm:
bb.gem.upitch = 0.0004
bb.gem.vpitch = 0.0004

# tracking parameters:

# thresholds for clustering algorithm: default to zero:
bb.gem.threshold_sample = 0.0
bb.gem.threshold_stripsum = 0.0
bb.gem.threshold_clustersum = 0.0

bb.gem.threshold_sample_deconv = 50.0
bb.gem.threshold_maxcombo_deconv = 75.0
bb.gem.threshold_clustersum_deconv = 150.0

bb.gem.ADCasym_cut = 0.75
bb.gem.deltat_cut = 21.0
bb.gem.corrcoeff_cut = 0.4
bb.gem.filterflag1D = -1
bb.gem.filterflag2D = -1

bb.gem.peakprominence_minsigma = 3.0
bb.gem.peakprominence_minfraction = 0.15

bb.gem.maxnu_charge = 4
bb.gem.maxnv_charge = 4

bb.gem.maxnu_pos = 2
bb.gem.maxnv_pos = 2

bb.gem.do_neg_signal_study = 0

bb.gem.sigmahitshape = 0.0004 
bb.gem.sigmahitpos = 0.0001 # 0.15 mm or 150 um
bb.gem.trackchi2cut = 50.0
bb.gem.trackchi2cut_hitquality = 75.0
bb.gem.use_enhanced_chi2 = 0
bb.gem.onlinezerosuppression = 1
bb.gem.zerosuppress_nsigma = 5.0
bb.gem.minhitsontrack = 3
bb.gem.minhighqualityhitsontrack = 0

bb.gem.maxhitcombos = 25000
bb.gem.maxhitcombos_inner = 25000
bb.gem.maxhitcombos_total = 1.e16
bb.gem.tryfasttrack = 1
bb.gem.gridbinwidthx = 0.005
bb.gem.gridbinwidthy = 0.005
bb.gem.gridedgetolerancex = 0.0015
bb.gem.gridedgetolerancey = 0.0015
bb.gem.useconstraint = 1

bb.gem.clustering_flag = 0 # use deconvoluted ADC max combo for clustering
bb.gem.deconvolution_flag = 0 # reject strips with max deconvoluted two-sample combo below fZeroSuppressRMS * sigma_1sample

bb.gem.usetrigtime = 0
bb.gem.trigtime_crate = 5
bb.gem.trigtime_slot = 2
bb.gem.trigtime_chan = 127
bb.gem.trigtime_t0 = 368.0
bb.gem.trigtime_calib = 0.0936
bb.gem.trigtime_slope = 0.5
bb.gem.maxtrigtime_correction = 25.0

bb.gem.useopticsconstraint = 0
bb.gem.useforwardopticsconstraint = 0
bb.gem.xptar_min = -0.25
bb.gem.xptar_max = 0.25
bb.gem.yptar_min = -0.08
bb.gem.yptar_max = -0.08
bb.gem.ytar_min = -0.08
bb.gem.ytar_max = 0.08
bb.gem.pmin = 0.5
bb.gem.pmax = 4.5

################### DECODE INFO ########################################################################
## Channel maps for decoding explained                                                                ##
## Each entry corresponds to one APV card                                                             ## 
## Crate = ROC ID = 20 for BigBite VTP                                                                ##
## Slot = 11 for BigBite VTP                                                                          ##
## fiber/mpd is fiber number for an MPD module, this is unique for each module within a VTP/SSP       ##
## gemid is unique "production ID" of a GEM module, not currently used by analysis but useful         ##
## for bookkeeping/tracking                                                                           ##
## adc_ch is the unique adc channel of this APV card within its associated MPD                        ##
## i2c is the "i2c address" of this APV card (not currently used by analysis)                         ##
## pos maps APV cards to physical locations on the detector                                           ##
## invert specifies whether strip index runs from "right-to-left" or "left-to-right" within an APV    ##
## axis specifies which strip orientation/dimension of the readout strips connected to this APV       ##
## ORDER of entries in the maps is:                                                                   ##
## crate   slot   fiber/mpd  gemid  adc_ch   i2c   pos     invert   axis                              ##
########################################################################################################

bb.gem.m0.chanmap = 
     20      11       7       3       0       3      29       1       1 
     20      11       7       3       1       2      28       1       1 
     20      11       7       3       2       1      27       1       1 
     20      11       7       3       3       0      26       1       1 
     20      11       7       3       4       7      25       1       1 
     20      11       7       3       5       6      24       1       1 
     20      11       7       3       6       5      23       1       1 
     20      11       7       3       7       4      22       1       1 
     20      11       7       3       8      11      21       1       1 
     20      11       7       3       9      10      20       1       1 
     20      11       7       3      10       9      19       1       1 
     20      11       7       3      11       8      18       1       1 
     20      11       7       3      12      15      17       1       1 
     20      11       7       3      13      14      16       1       1 
     20      11       7       3      14      13      15       1       1 
     20      11       8       3       0       3      11       1       1 
     20      11       8       3       1       2      10       1       1 
     20      11       8       3       2       1       9       1       1 
     20      11       8       3       3       0       8       1       1 
     20      11       8       3       4       7       7       1       1 
     20      11       8       3       5       6       6       1       1 
     20      11       8       3       6       5       5       1       1 
     20      11       8       3       7       4       4       1       1 
     20      11       8       3       8      11       3       1       1 
     20      11       8       3       9      10       2       1       1 
     20      11       8       3      10       9       1       1       1 
     20      11       8       3      11       8       0       1       1 
     20      11       8       3      12      15      14       1       1 
     20      11       8       3      13      14      13       1       1 
     20      11       8       3      14      13      12       1       1 
     20      11       9       3       0       3      26       0       0 
     20      11       9       3       1       2      27       0       0 
     20      11       9       3       2       1      28       0       0 
     20      11       9       3       3       0      29       0       0 
     20      11       9       3       4       7      22       0       0 
     20      11       9       3       5       6      23       0       0 
     20      11       9       3       6       5      24       0       0 
     20      11       9       3       7       4      25       0       0 
     20      11       9       3       8      11      18       0       0 
     20      11       9       3       9      10      19       0       0 
     20      11       9       3      10       9      20       0       0 
     20      11       9       3      11       8      21       0       0 
     20      11       9       3      12      15      15       0       0 
     20      11       9       3      13      14      16       0       0 
     20      11       9       3      14      13      17       0       0 
     20      11      10       3       0       3       8       0       0 
     20      11      10       3       1       2       9       0       0 
     20      11      10       3       2       1      10       0       0 
     20      11      10       3       3       0      11       0       0 
     20      11      10       3       4       7       4       0       0 
     20      11      10       3       5       6       5       0       0 
     20      11      10       3       6       5       6       0       0 
     20      11      10       3       7       4       7       0       0 
     20      11      10       3       8      11       0       0       0 
     20      11      10       3       9      10       1       0       0 
     20      11      10       3      10       9       2       0       0 
     20      11      10       3      11       8       3       0       0 
     20      11      10       3      12      15      12       0       0 
     20      11      10       3      13      14      13       0       0 
     20      11      10       3      14      13      14       0       0 
bb.gem.m1.chanmap = 
     20      11      16      24       0       0       9       0       0 
     20      11      16      24       1       1       7       0       0 
     20      11      16      24       2       2       5       0       0 
     20      11      16      24       3       3       3       0       0 
     20      11      16      24       4       4       1       0       0 
     20      11      17      24       4       0       7       0       1 
     20      11      17      24       3       1       5       0       1 
     20      11      17      24       2       2       3       0       1 
     20      11      17      24       1       3       1       0       1 
     20      11      18      24       0       0       0       1       0 
     20      11      18      24       1       1       2       1       0 
     20      11      18      24       2       2       4       1       0 
     20      11      18      24       3       3       6       1       0 
     20      11      18      24       4       4       8       1       0 
     20      11      19      24       0       0       0       1       1 
     20      11      19      24       1       1       2       1       1 
     20      11      19      24       2       2       4       1       1 
     20      11      19      24       3       3       6       1       1 
bb.gem.m2.chanmap = 
     20      11      16      15       5       8       9       0       0 
     20      11      16      15       6       9       7       0       0 
     20      11      16      15       7      10       5       0       0 
     20      11      16      15       8      11       3       0       0 
     20      11      16      15       9      12       1       0       0 
     20      11      17      15       9       8       7       0       1 
     20      11      17      15       8       9       5       0       1 
     20      11      17      15       7      10       3       0       1 
     20      11      17      15       6      11       1       0       1 
     20      11      18      15       5       8       0       1       0 
     20      11      18      15       6       9       2       1       0 
     20      11      18      15       7      10       4       1       0 
     20      11      18      15       8      11       6       1       0 
     20      11      18      15       9      12       8       1       0 
     20      11      19      15       9       8       0       1       1 
     20      11      19      15       8       9       2       1       1 
     20      11      19      15       7      10       4       1       1 
     20      11      19      15       6      11       6       1       1 
bb.gem.m3.chanmap = 
     20      11      16      12      10      16       9       0       0 
     20      11      16      12      11      17       7       0       0 
     20      11      16      12      12      18       5       0       0 
     20      11      16      12      13      19       3       0       0 
     20      11      16      12      14      20       1       0       0 
     20      11      17      12      10      16       7       0       1 
     20      11      17      12      11      17       5       0       1 
     20      11      17      12      12      18       3       0       1 
     20      11      17      12      13      19       1       0       1 
     20      11      18      12      10      16       0       1       0 
     20      11      18      12      11      17       2       1       0 
     20      11      18      12      12      18       4       1       0 
     20      11      18      12      13      19       6       1       0 
     20      11      18      12      14      20       8       1       0 
     20      11      19      12      14      16       0       1       1 
     20      11      19      12      13      17       2       1       1 
     20      11      19      12      12      18       4       1       1 
     20      11      19      12      11      19       6       1       1 
bb.gem.m4.chanmap = 
     20      11      11     104       0       3      29       1       1 
     20      11      11     104       1       2      28       1       1 
     20      11      11     104       2       1      27       1       1 
     20      11      11     104       3       0      26       1       1 
     20      11      11     104       4       7      25       1       1 
     20      11      11     104       5       6      24       1       1 
     20      11      11     104       6       5      23       1       1 
     20      11      11     104       7       4      22       1       1 
     20      11      11     104       8      11      21       1       1 
     20      11      11     104       9      10      20       1       1 
     20      11      11     104      10       9      19       1       1 
     20      11      11     104      11       8      18       1       1 
     20      11      11     104      12      15      17       1       1 
     20      11      11     104      13      14      16       1       1 
     20      11      11     104      14      13      15       1       1 
     20      11      12     104       0       3      11       1       1 
     20      11      12     104       1       2      10       1       1 
     20      11      12     104       2       1       9       1       1 
     20      11      12     104       3       0       8       1       1 
     20      11      12     104       4       7       7       1       1 
     20      11      12     104       5       6       6       1       1 
     20      11      12     104       6       5       5       1       1 
     20      11      12     104       7       4       4       1       1 
     20      11      12     104       8      11       3       1       1 
     20      11      12     104       9      10       2       1       1 
     20      11      12     104      10       9       1       1       1 
     20      11      12     104      11       8       0       1       1 
     20      11      12     104      12      15      14       1       1 
     20      11      12     104      13      14      13       1       1 
     20      11      12     104      14      13      12       1       1 
     20      11      13     104       0       3      26       0       0 
     20      11      13     104       1       2      27       0       0 
     20      11      13     104       2       1      28       0       0 
     20      11      13     104       3       0      29       0       0 
     20      11      13     104       4       7      22       0       0 
     20      11      13     104       5       6      23       0       0 
     20      11      13     104       6       5      24       0       0 
     20      11      13     104       7       4      25       0       0 
     20      11      13     104       8      11      18       0       0 
     20      11      13     104       9      10      19       0       0 
     20      11      13     104      10       9      20       0       0 
     20      11      13     104      11       8      21       0       0 
     20      11      13     104      12      15      15       0       0 
     20      11      13     104      13      14      16       0       0 
     20      11      13     104      14      13      17       0       0 
     20      11      14     104       0       3       8       0       0 
     20      11      14     104       1       2       9       0       0 
     20      11      14     104       2       1      10       0       0 
     20      11      14     104       3       0      11       0       0 
     20      11      14     104       4       7       4       0       0 
     20      11      14     104       5       6       5       0       0 
     20      11      14     104       6       5       6       0       0 
     20      11      14     104       7       4       7       0       0 
     20      11      14     104       8      11       0       0       0 
     20      11      14     104       9      10       1       0       0 
     20      11      14     104      10       9       2       0       0 
     20      11      14     104      11       8       3       0       0 
     20      11      14     104      12      15      12       0       0 
     20      11      14     104      13      14      13       0       0 
     20      11      14     104      14      13      14       0       0 
bb.gem.m5.chanmap = 
     20      11      20      18       0       0       9       0       0 
     20      11      20      18       1       1       7       0       0 
     20      11      20      18       2       2       5       0       0 
     20      11      20      18       3       3       3       0       0 
     20      11      20      18       4       4       1       0       0 
     20      11      21      18       4       0       7       0       1 
     20      11      21      18       3       1       5       0       1 
     20      11      21      18       2       2       3       0       1 
     20      11      21      18       1       3       1       0       1 
     20      11      22      18       0       0       0       1       0 
     20      11      22      18       1       1       2       1       0 
     20      11      22      18       2       2       4       1       0 
     20      11      22      18       3       3       6       1       0 
     20      11      22      18       4       4       8       1       0 
     20      11      23      18       0       0       0       1       1 
     20      11      23      18       1       1       2       1       1 
     20      11      23      18       2       2       4       1       1 
     20      11      23      18       3       3       6       1       1 
bb.gem.m6.chanmap = 
     20      11      20       0       5       8       9       0       0 
     20      11      20       0       6       9       7       0       0 
     20      11      20       0       7      10       5       0       0 
     20      11      20       0       8      11       3       0       0 
     20      11      20       0       9      12       1       0       0 
     20      11      21       0       5       8       7       0       1 
     20      11      21       0       6       9       5       0       1 
     20      11      21       0       7      10       3       0       1 
     20      11      21       0       8      11       1       0       1 
     20      11      22       0       5       8       0       1       0 
     20      11      22       0       6       9       2       1       0 
     20      11      22       0       7      10       4       1       0 
     20      11      22       0       8      11       6       1       0 
     20      11      22       0       9      12       8       1       0 
     20      11      23       0       5       8       0       1       1 
     20      11      23       0       6       9       2       1       1 
     20      11      23       0       7      10       4       1       1 
     20      11      23       0       8      11       6       1       1 
bb.gem.m7.chanmap = 
     20      11      20       4      10      16       9       0       0 
     20      11      20       4      11      17       7       0       0 
     20      11      20       4      12      18       5       0       0 
     20      11      20       4      13      19       3       0       0 
     20      11      20       4      14      20       1       0       0 
     20      11      21       4      10      16       7       0       1 
     20      11      21       4      11      17       5       0       1 
     20      11      21       4      12      18       3       0       1 
     20      11      21       4      13      19       1       0       1 
     20      11      22       4      10      16       0       1       0 
     20      11      22       4      11      17       2       1       0 
     20      11      22       4      12      18       4       1       0 
     20      11      22       4      13      19       6       1       0 
     20      11      22       4      14      20       8       1       0 
     20      11      23       4      10      16       0       1       1 
     20      11      23       4      11      17       2       1       1 
     20      11      23       4      12      18       4       1       1 
     20      11      23       4      13      19       6       1       1 
bb.gem.m8.chanmap = 
     20      11       0      13       0      15       0       1       1 
     20      11       0      13       1      14       1       1       1 
     20      11       0      13       2      13       2       1       1 
     20      11       0      13       3      12       3       1       1 
     20      11       0      13       4      11       4       1       1 
     20      11       0      13       5      10       5       1       1 
     20      11       0      13       6       9       6       1       1 
     20      11       0      13       7       8       7       1       1 
     20      11       0      13       8       7       8       1       1 
     20      11       0      13       9       6       9       1       1 
     20      11       0      13      10       5      10       1       1 
     20      11       0      13      11       4      11       1       1 
     20      11       4      13      10       4       9       1       0 
     20      11       4      13      11       3       8       1       0 
     20      11       4      13      12       2       7       1       0 
     20      11       4      13      13       1       6       1       0 
     20      11       4      13      14       0       5       1       0 
     20      11       5      13       0       4       0       0       0 
     20      11       5      13       1       3       1       0       0 
     20      11       5      13       2       2       2       0       0 
     20      11       5      13       3       1       3       0       0 
     20      11       5      13       4       0       4       0       0 
bb.gem.m9.chanmap = 
     20      11       1      20       0      15       0       1       1 
     20      11       1      20       1      14       1       1       1 
     20      11       1      20       2      13       2       1       1 
     20      11       1      20       3      12       3       1       1 
     20      11       1      20       4      11       4       1       1 
     20      11       1      20       5      10       5       1       1 
     20      11       1      20       6       9       6       1       1 
     20      11       1      20       7       8       7       1       1 
     20      11       1      20       8       7       8       1       1 
     20      11       1      20       9       6       9       1       1 
     20      11       1      20      10       5      10       1       1 
     20      11       1      20      11       4      11       1       1 
     20      11       4      20       5      12       9       1       0 
     20      11       4      20       6      11       8       1       0 
     20      11       4      20       7      10       7       1       0 
     20      11       4      20       8       9       6       1       0 
     20      11       4      20       9       8       5       1       0 
     20      11       5      20       5      12       0       0       0 
     20      11       5      20       6      11       1       0       0 
     20      11       5      20       7      10       2       0       0 
     20      11       5      20       8       9       3       0       0 
     20      11       5      20       9       8       4       0       0 
bb.gem.m10.chanmap = 
     20      11       2      17       0      15      11       0       1 
     20      11       2      17       1      14      10       0       1 
     20      11       2      17       2      13       9       0       1 
     20      11       2      17       3      12       8       0       1 
     20      11       2      17       4      11       7       0       1 
     20      11       2      17       5      10       6       0       1 
     20      11       2      17       6       9       5       0       1 
     20      11       2      17       7       8       4       0       1 
     20      11       2      17       8       7       3       0       1 
     20      11       2      17       9       6       2       0       1 
     20      11       2      17      10       5       1       0       1 
     20      11       2      17      11       4       0       0       1 
     20      11       4      17       0      20       9       1       0 
     20      11       4      17       1      19       8       1       0 
     20      11       4      17       2      18       7       1       0 
     20      11       4      17       3      17       6       1       0 
     20      11       4      17       4      16       5       1       0 
     20      11       5      17      10      20       0       0       0 
     20      11       5      17      11      19       1       0       0 
     20      11       5      17      12      18       2       0       0 
     20      11       5      17      13      17       3       0       0 
     20      11       5      17      14      16       4       0       0 
bb.gem.m11.chanmap = 
     20      11       3      25       0      15      11       0       1 
     20      11       3      25       1      14      10       0       1 
     20      11       3      25       2      13       9       0       1 
     20      11       3      25       3      12       8       0       1 
     20      11       3      25       4      11       7       0       1 
     20      11       3      25       5      10       6       0       1 
     20      11       3      25       6       9       5       0       1 
     20      11       3      25       7       8       4       0       1 
     20      11       3      25       8       7       3       0       1 
     20      11       3      25       9       6       2       0       1 
     20      11       3      25      10       5       1       0       1 
     20      11       3      25      11       4       0       0       1 
     20      11       6      25       0       4       9       1       0 
     20      11       6      25       1       3       8       1       0 
     20      11       6      25       2       2       7       1       0 
     20      11       6      25       3       1       6       1       0 
     20      11       6      25       4       0       5       1       0 
     20      11       6      25       8      12       0       0       0 
     20      11       6      25       9      11       1       0       0 
     20      11       6      25      10      10       2       0       0 
     20      11       6      25      11       9       3       0       0 
     20      11       6      25      12       8       4       0       0 


# TIME-DEPENDENT ENTRIES FOR DECODE MAP CHANGES (IF ANY)


-------[ 2021-09-22 09:22:00 ] # start of first run after fibers 2 and 3 swapped:

bb.gem.m10.chanmap = 
     20      11       3      17       0      15      11       0       1 
     20      11       3      17       1      14      10       0       1 
     20      11       3      17       2      13       9       0       1 
     20      11       3      17       3      12       8       0       1 
     20      11       3      17       4      11       7       0       1 
     20      11       3      17       5      10       6       0       1 
     20      11       3      17       6       9       5       0       1 
     20      11       3      17       7       8       4       0       1 
     20      11       3      17       8       7       3       0       1 
     20      11       3      17       9       6       2       0       1 
     20      11       3      17      10       5       1       0       1 
     20      11       3      17      11       4       0       0       1 
     20      11       4      17       0      20       9       1       0 
     20      11       4      17       1      19       8       1       0 
     20      11       4      17       2      18       7       1       0 
     20      11       4      17       3      17       6       1       0 
     20      11       4      17       4      16       5       1       0 
     20      11       5      17      10      20       0       0       0 
     20      11       5      17      11      19       1       0       0 
     20      11       5      17      12      18       2       0       0 
     20      11       5      17      13      17       3       0       0 
     20      11       5      17      14      16       4       0       0 
bb.gem.m11.chanmap = 
     20      11       2      25       0      15      11       0       1 
     20      11       2      25       1      14      10       0       1 
     20      11       2      25       2      13       9       0       1 
     20      11       2      25       3      12       8       0       1 
     20      11       2      25       4      11       7       0       1 
     20      11       2      25       5      10       6       0       1 
     20      11       2      25       6       9       5       0       1 
     20      11       2      25       7       8       4       0       1 
     20      11       2      25       8       7       3       0       1 
     20      11       2      25       9       6       2       0       1 
     20      11       2      25      10       5       1       0       1 
     20      11       2      25      11       4       0       0       1 
     20      11       6      25       0       4       9       1       0 
     20      11       6      25       1       3       8       1       0 
     20      11       6      25       2       2       7       1       0 
     20      11       6      25       3       1       6       1       0 
     20      11       6      25       4       0       5       1       0 
     20      11       6      25       8      12       0       0       0 
     20      11       6      25       9      11       1       0       0 
     20      11       6      25      10      10       2       0       0 
     20      11       6      25      11       9       3       0       0 
     20      11       6      25      12       8       4       0       0 

--------[ 2021-09-27 00:46:14 ] # start of first run after fibers 2 and 3 swapped back to original connections:
#
#      fixed mistake in fiber swap history. Module 10 (11) Y strips are on fiber 2 (3) before (after) the swap 
# 
bb.gem.m10.chanmap = 
     20      11       2      17       0      15      11       0       1 
     20      11       2      17       1      14      10       0       1 
     20      11       2      17       2      13       9       0       1 
     20      11       2      17       3      12       8       0       1 
     20      11       2      17       4      11       7       0       1 
     20      11       2      17       5      10       6       0       1 
     20      11       2      17       6       9       5       0       1 
     20      11       2      17       7       8       4       0       1 
     20      11       2      17       8       7       3       0       1 
     20      11       2      17       9       6       2       0       1 
     20      11       2      17      10       5       1       0       1 
     20      11       2      17      11       4       0       0       1 
     20      11       4      17       0      20       9       1       0 
     20      11       4      17       1      19       8       1       0 
     20      11       4      17       2      18       7       1       0 
     20      11       4      17       3      17       6       1       0 
     20      11       4      17       4      16       5       1       0 
     20      11       5      17      10      20       0       0       0 
     20      11       5      17      11      19       1       0       0 
     20      11       5      17      12      18       2       0       0 
     20      11       5      17      13      17       3       0       0 
     20      11       5      17      14      16       4       0       0 

bb.gem.m11.chanmap = 
     20      11       3      25       0      15      11       0       1 
     20      11       3      25       1      14      10       0       1 
     20      11       3      25       2      13       9       0       1 
     20      11       3      25       3      12       8       0       1 
     20      11       3      25       4      11       7       0       1 
     20      11       3      25       5      10       6       0       1 
     20      11       3      25       6       9       5       0       1 
     20      11       3      25       7       8       4       0       1 
     20      11       3      25       8       7       3       0       1 
     20      11       3      25       9       6       2       0       1 
     20      11       3      25      10       5       1       0       1 
     20      11       3      25      11       4       0       0       1 
     20      11       6      25       0       4       9       1       0 
     20      11       6      25       1       3       8       1       0 
     20      11       6      25       2       2       7       1       0 
     20      11       6      25       3       1       6       1       0 
     20      11       6      25       4       0       5       1       0 
     20      11       6      25       8      12       0       0       0 
     20      11       6      25       9      11       1       0       0 
     20      11       6      25      10      10       2       0       0 
     20      11       6      25      11       9       3       0       0 
     20      11       6      25      12       8       4       0       0 

############ END TIME-DEPENDENT DECODE MAP ENTRIES



################### BEGIN TIME-DEPENDENT ALIGNMENT ENTRIES ##################################

--------[ 2021-10-04 22:36:00 ] # start of run 1109, the first good run that I'm aware of with "final" alignment

bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =       0.5300309   -0.0009352402       0.1323192
bb.gem.m1.angle =      0.02040032      -0.2395929      -0.1484627
bb.gem.m2.position =    -0.004841307     0.002251292       0.1301795
bb.gem.m2.angle =     -0.00454369       0.0555466      -0.3602672
bb.gem.m3.position =      -0.5409744     0.005976331       0.1312271
bb.gem.m3.angle =      -0.1770143       0.1150538      -0.3739135
bb.gem.m4.position =    -0.007615015     0.006147694       0.2785995
bb.gem.m4.angle =     0.007217669      0.02774985      -0.2917705
bb.gem.m5.position =       0.5248454     0.003590538       0.4149689
bb.gem.m5.angle =      0.04011928     -0.05172014      -0.1495347
bb.gem.m6.position =     -0.01012342     0.004511144       0.4153096
bb.gem.m6.angle =      0.05874682       0.2238616     -0.02464266
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =      -0.7644073    0.0006477928        1.570592
bb.gem.m8.angle =     -0.06513717        -0.16519      -0.3436074
bb.gem.m9.position =      -0.2525128    -0.003198669         1.53115
bb.gem.m9.angle =      -0.2332181      -0.1432915      -0.3094737
bb.gem.m10.position =       0.2584583     -0.00895465        1.574429
bb.gem.m10.angle =     -0.07203803      -0.1235775      -0.2606025
bb.gem.m11.position =       0.7707726     -0.01274326        1.533101
bb.gem.m11.angle =      -0.3718366      -0.2452109       -0.273524

--------[ 2021-10-08 00:00:00 ] # run 10827

bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =       0.5300511   -0.0009535644       0.1323666
bb.gem.m1.angle =      0.02700673      -0.2379881      -0.1527655
bb.gem.m2.position =    -0.004806347     0.002251354       0.1302206
bb.gem.m2.angle =     -0.02615096      0.06430652       -0.362254
bb.gem.m3.position =      -0.5409238      0.00597744       0.1311869
bb.gem.m3.angle =      -0.1719173        0.145763      -0.3751468
bb.gem.m4.position =    -0.007552652     0.006268649       0.2785703
bb.gem.m4.angle =    -0.001714426       0.0303074      -0.2898633
bb.gem.m5.position =       0.5249085     0.003674071       0.4148918
bb.gem.m5.angle =      0.02763595     -0.05744729       -0.155642
bb.gem.m6.position =     -0.01004731     0.004638314       0.4152198
bb.gem.m6.angle =      0.04805655       0.2236369     -0.02550326
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =      -0.7644341    0.0006478576        1.570664
bb.gem.m8.angle =      -0.0641326      -0.1587056      -0.3413558
bb.gem.m9.position =      -0.2525842    -0.003254243        1.531156
bb.gem.m9.angle =      -0.2243629      -0.1248861       -0.308898
bb.gem.m10.position =       0.2584437    -0.009071885        1.574387
bb.gem.m10.angle =     -0.06476492      -0.1361551      -0.2631999
bb.gem.m11.position =       0.7707586     -0.01281094        1.533085
bb.gem.m11.angle =      -0.3687799      -0.2340395      -0.2669022

--------[ 2021-10-21 07:00:00 ] # run 11436 new alignments:
bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =       0.5300799    -0.001005456        0.131787
bb.gem.m1.angle =       0.1094326      -0.3002299      -0.1640128
bb.gem.m2.position =    -0.004782724     0.002241139       0.1296298
bb.gem.m2.angle =     -0.07869501       0.1492489      -0.3683688
bb.gem.m3.position =      -0.5409488     0.005962754       0.1314313
bb.gem.m3.angle =      -0.2850737       0.2653069      -0.3794431
bb.gem.m4.position =    -0.007574628     0.005974507       0.2775943
bb.gem.m4.angle =       0.1291546      0.09468681      -0.2988169
bb.gem.m5.position =        0.524765     0.003674245       0.4137747
bb.gem.m5.angle =         0.15849      -0.4730873      -0.1798822
bb.gem.m6.position =     -0.01012711     0.004799457       0.4152936
bb.gem.m6.angle =       0.1776978       0.4056619     -0.03328259
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =      -0.7646609    0.0006738031        1.572312
bb.gem.m8.angle =      0.03023887      -0.1724502        -0.32777
bb.gem.m9.position =      -0.2526523    -0.003210836        1.532267
bb.gem.m9.angle =      -0.1880107      -0.1276798      -0.3071291
bb.gem.m10.position =       0.2584796     -0.00902241        1.574917
bb.gem.m10.angle =      -0.2297891      -0.1024329      -0.2625098
bb.gem.m11.position =       0.7709063     -0.01275901        1.534581
bb.gem.m11.angle =      -0.1848441      -0.1216714      -0.3048087


--------[ 2021-10-23 11:30:00 ] # run 11548 new alignments:
bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =       0.5300783    -0.000991302       0.1318027
bb.gem.m1.angle =       0.1359771      -0.2708247      -0.1635329
bb.gem.m2.position =    -0.004774783     0.002254635       0.1296786
bb.gem.m2.angle =     -0.06199549       0.1369531      -0.3688051
bb.gem.m3.position =      -0.5409556     0.005979734         0.13155
bb.gem.m3.angle =      -0.2571317       0.2638251      -0.3771411
bb.gem.m4.position =    -0.007561015     0.005204984       0.2776326
bb.gem.m4.angle =       0.1383925      0.09572071      -0.3012503
bb.gem.m5.position =         0.52482     0.003725238       0.4143053
bb.gem.m5.angle =      0.09602733      -0.4339382      -0.1721583
bb.gem.m6.position =     -0.01011357     0.004798597       0.4151594
bb.gem.m6.angle =     -0.04845662       0.3996965     -0.03719733
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =      -0.7646278     0.000810443          1.5722
bb.gem.m8.angle =    0.0003396771      -0.1379616      -0.3363007
bb.gem.m9.position =      -0.2526315    -0.003080935        1.531898
bb.gem.m9.angle =     -0.07933363     -0.03356803      -0.2978109
bb.gem.m10.position =        0.258484    -0.008878491         1.57473
bb.gem.m10.angle =     -0.04895553      -0.1630753       -0.265667
bb.gem.m11.position =        0.770748     -0.01264047        1.533453
bb.gem.m11.angle =      -0.2717525       -0.136618      -0.3044106

--------[ 2021-11-1 00:00:00 ] # new alignment for SBS-7 kinematics after: "SBS Magnet Down: Maybe Just a Communication Issue" 

#bb.gem.m0.position =               0               0               0
#bb.gem.m0.angle =               0               0               0
#bb.gem.m1.position =       0.5301897   -0.0005889011       0.1313134
#bb.gem.m1.angle =      0.01684283      -0.2475876      -0.1573183
#bb.gem.m2.position =    -0.004724254     0.002658452       0.1293365
#bb.gem.m2.angle =     -0.04327999       0.0580741      -0.3669031
#bb.gem.m3.position =      -0.5408753     0.006423671       0.1302102
#bb.gem.m3.angle =      -0.1639977       0.1027495      -0.3829843
#bb.gem.m4.position =    -0.007473726     0.006603799       0.2785823
#bb.gem.m4.angle =     0.008591638      0.03917127      -0.2902889
#bb.gem.m5.position =       0.5249865     0.003708121        0.414124
#bb.gem.m5.angle =    -0.003645536      -0.1373597      -0.1686458
#bb.gem.m6.position =    -0.009961399     0.004725562       0.4143385
#bb.gem.m6.angle =      0.06583138       0.2552292     -0.03195723
#bb.gem.m7.position =          -0.535               0          0.4112
#bb.gem.m7.angle =               0               0               0
#bb.gem.m8.position =      -0.7645569     0.000676535        1.572095
#bb.gem.m8.angle =      0.00508234     -0.05564231      -0.3358328
#bb.gem.m9.position =      -0.2526861     -0.00340231        1.531466
#bb.gem.m9.angle =      -0.1426844    -0.001782497      -0.3176997
#bb.gem.m10.position =       0.2583947    -0.009422634        1.574787
#bb.gem.m10.angle =     -0.07726261      -0.1952611      -0.2934266
#bb.gem.m11.position =       0.7708439     -0.01303581        1.533498
#bb.gem.m11.angle =      -0.2385673     -0.09314385       -0.279551

# new SBS-7 alignment with beam on LH2 and BB magnet on (old one appeared to be based on cosmic based on residuals)

bb.gem.m0.position =               0               0               0
bb.gem.m0.angle =               0               0               0
bb.gem.m1.position =       0.5300561   -0.0005833236       0.1318557
bb.gem.m1.angle =       0.1172423      -0.2905258      -0.1671258
bb.gem.m2.position =    -0.004808752     0.002708937       0.1296532
bb.gem.m2.angle =     -0.08288951       0.1228571      -0.3701668
bb.gem.m3.position =      -0.5410025     0.006470942       0.1313843
bb.gem.m3.angle =      -0.2799918       0.2408754      -0.3806942
bb.gem.m4.position =    -0.007595299     0.006659127       0.2778074
bb.gem.m4.angle =       0.1204737      0.08617516      -0.2930792
bb.gem.m5.position =       0.5247871     0.003768748       0.4144451
bb.gem.m5.angle =      0.09882992      -0.4605365      -0.1693444
bb.gem.m6.position =     -0.01018726     0.004807948       0.4151952
bb.gem.m6.angle =      0.02628806       0.3857596     -0.02725188
bb.gem.m7.position =          -0.535               0          0.4112
bb.gem.m7.angle =               0               0               0
bb.gem.m8.position =      -0.7647367    0.0005211407        1.573265
bb.gem.m8.angle =       0.1049221     -0.04094392       -0.322344
bb.gem.m9.position =      -0.2526096    -0.003340556        1.531747
bb.gem.m9.angle =   -1.730583e-05      0.07322333      -0.2899894
bb.gem.m10.position =       0.2585236    -0.009146512        1.574795
bb.gem.m10.angle =       0.1629331      -0.2083357      -0.2684818
bb.gem.m11.position =       0.7707227     -0.01296248        1.533744
bb.gem.m11.angle =     -0.03626937      -0.1793313      -0.3377078




########################### END TIME-DEPENDENT ALIGNMENT PARAMETERS 

#################### BEGIN TIME-DEPENDENT GAIN MATCH PARAMETERS ##############################
-------[ 2021-01-01 00:00:00 ] # initially, we were running at lower HV, these parameters are from SBS-1 optics data:

#Module internal relative gains by APV card: 
#bb.gem.m0.vgain = 1  1  0.922788  0.868468  0.84795  0.854752  0.840927  0.812182  0.824985  0.897269  0.909287  0.825  0.833803  0.852752  0.865516  0.895084  0.863674  0.912388  0.929856  0.946513  0.901281  0.937671  0.931435  0.927749  0.918065  0.904849  1.04538  1.07406  1.17524  1  
#bb.gem.m0.ugain = 1  1.12969  0.982299  0.910987  0.917517  1.028  0.91389  0.969501  0.887228  0.967483  0.891437  0.932717  1  0.967796  0.932223  0.981003  1.02996  0.982872  1.04916  1.02479  1.04176  1.04898  1.10283  1.02383  1.08466  1.15114  1.1012  1.22265  1  1  
#bb.gem.m1.vgain = 0.834677  0.936815  0.926078  0.992003  0.982374  0.959832  0.953892  1  
#bb.gem.m1.ugain = 0.98402  1.14722  1.02382  1.17778  1.17857  1.12681  1.21804  1.02897  1.13128  1  
#bb.gem.m2.vgain = 0.922182  0.992759  1.00046  1.01103  0.974527  0.990518  0.974219  1  
#bb.gem.m2.ugain = 0.901511  0.96341  0.943244  1  1.00683  1.0195  1.03975  0.943573  1.05399  0.955832  
#bb.gem.m3.vgain = 0.746919  0.855883  0.793305  0.898179  0.894198  0.94549  0.987106  1  
#bb.gem.m3.ugain = 1  0.962197  1.01866  0.897486  0.91264  0.916954  0.92726  0.888314  0.842845  0.780455  
#bb.gem.m4.vgain = 1  1  0.908483  0.861523  0.870762  0.894558  0.918363  0.86584  0.917447  0.900065  0.931988  0.888258  0.900339  0.866696  0.904625  0.895892  0.909609  0.901222  0.903116  0.966236  0.933901  0.905593  1.09444  0.915333  0.919532  0.911813  0.997771  1.0059  1.1446  1  
#bb.gem.m4.ugain = 1  1.32552  1.1755  1  1.02688  0.969465  0.9567  1.02503  0.963719  1.00959  0.952652  0.946918  0.965749  1  0.9928  0.964212  0.975184  0.944532  1.00474  0.990463  0.958997  0.994467  0.987853  0.973374  0.996838  0.943026  1.24062  1.17362  1.27841  1  
#bb.gem.m5.vgain = 1.00038  1.10874  0.936689  1.09039  1.08088  0.993479  0.975173  0.908546  
#bb.gem.m5.ugain = 0.974903  0.970055  1.01891  0.979843  0.995483  0.991839  0.994148  0.926615  0.962828  1  
#bb.gem.m6.vgain = 1.44504  1.4656  1.35181  1.38701  1.43499  1.3773  1.46336  1.3702  
#bb.gem.m6.ugain = 1.20865  1.15118  1.03908  1  0.892997  0.851192  0.859832  0.899839  0.925309  0.933918  
#bb.gem.m7.vgain = 1  1  1  1  1  1  1  1  
#bb.gem.m7.ugain = 1  1  1  1  1  1  1  1  1  1  
#bb.gem.m8.vgain = 1.20762  1.46186  1.47289  1.52728  1.42734  1.46237  1.54609  1.57153  1.38926  1.51197  1.39925  1.47964  
#bb.gem.m8.ugain = 1.04355  1.08157  0.991193  0.980462  1.07556  1.01484  0.997567  0.981134  0.971901  1  
#bb.gem.m9.vgain = 0.986325  1.07143  1.0652  1.05772  1.06236  1.16748  1.11773  1.18123  1.16681  1.12572  1.16477  1  
#bb.gem.m9.ugain = 0.909907  0.859424  0.88184  0.833333  0.850128  0.915828  1.04332  0.896299  0.974283  1  
#bb.gem.m10.vgain = 0.982756  0.953853  1.01486  0.9776  0.901376  0.974171  0.947625  0.991018  0.941061  0.900823  0.901122  0.720588  
#bb.gem.m10.ugain = 1.02865  0.918693  0.931512  0.96831  1.02504  1  1.01036  1.06258  1.08999  1.16642  
#bb.gem.m11.vgain = 1  1  1.33634  1.41503  1.44152  1.31617  1.30393  1.29733  1.2852  1.30906  1.17912  1  
#bb.gem.m11.ugain = 1  0.917205  0.988728  0.975045  1.00739  1.01275  0.981746  0.977806  1.02512  1  

# Module average gains relative to target ADC peak position of 4000
#bb.gem.m0.modulegain = 0.611979
#bb.gem.m1.modulegain = 0.592877
#bb.gem.m2.modulegain = 0.669019
#bb.gem.m3.modulegain = 0.669415
#bb.gem.m4.modulegain = 0.578455
#bb.gem.m5.modulegain = 0.632566
#bb.gem.m6.modulegain = 0.450249
#bb.gem.m7.modulegain = 0.557015
#bb.gem.m8.modulegain = 1.19897
#bb.gem.m9.modulegain = 0.530478
#bb.gem.m10.modulegain = 0.553906
#bb.gem.m11.modulegain = 0.612277

--------[ 2021-10-17 19:12:00 ] # HVs increased: these gain params are from a combined analysis of 11436 and 11548, and should be valid for the HV settings used starting around run 11288

# AJRP (8/17/2023): These were generated from ALL of the "pass 0" LH2 data combined:

#Module internal relative gains by APV card: 
bb.gem.m0.vgain = 1  1  0.960641  1.03754  1.08256  1.05294  1.05218  1.10029  1.09101  1.0315  1.01006  1.10586  1.11489  1.09265  1.07844  1.05514  1.09317  1.03023  1.01275  1.00944  1.04094  1.00393  1.03407  1.00161  0.987812  1.00209  1  1  1  1  
bb.gem.m0.ugain = 1  0.878353  0.913766  1.00238  0.976297  0.886644  0.983428  0.956511  1.01774  0.9703  1.03073  0.997949  0.937709  0.96813  1  0.965223  0.920545  0.964405  0.909472  0.927992  0.915242  0.890543  0.850403  0.923593  0.857324  0.862268  1  1  1  1  
bb.gem.m1.vgain = 1.71773  1.41302  1.37152  1.27228  1.26149  1.29934  1.30339  1  
bb.gem.m1.ugain = 1  0.94973  1.03848  0.884098  0.9598  0.909784  0.908001  0.974874  0.967432  1  
bb.gem.m2.vgain = 1.11356  1.05369  1.03841  1.03776  1.04761  1.06153  1.05453  1  
bb.gem.m2.ugain = 1.14861  1.04923  1.05394  1.01363  1.01022  1  0.98869  1.07345  0.987116  1.0516  
bb.gem.m3.vgain = 1.5549  1.33916  1.43456  1.26289  1.26275  1.17862  1.14606  1  
bb.gem.m3.ugain = 1  1.00118  1.00443  1.06521  1.15827  1.147  1.14137  1  1  1  
bb.gem.m4.vgain = 1  1.04336  1.08173  1.15642  1.14485  1.10748  1.09332  1.1484  1.08996  1.11577  1.06418  1.11368  1.10995  1.1397  1.1077  1.09553  1.09468  1.09701  1.09009  1.01653  1.05589  1.0837  1.06635  1.08297  1.0327  1.04333  0.9818  1  1  1  
bb.gem.m4.ugain = 0.71481  0.769265  0.879501  0.967787  0.978051  1.03345  1.04989  0.990205  1.04662  0.993087  1.04872  1.02717  1.01478  1.00538  1  1.02926  1.03077  1.06716  0.988484  1.01276  1.03892  0.992475  0.9941  1.00898  0.988802  1.00036  1  1  1  1  
bb.gem.m5.vgain = 0.981225  0.904805  0.96325  0.91017  0.921859  0.97356  1.01392  1.0235  
bb.gem.m5.ugain = 1.05226  1.04837  0.984503  1.00562  0.983119  0.990703  1.00084  1.05393  1.03685  1  
bb.gem.m6.vgain = 0.591147  0.585963  0.629715  0.610827  0.589155  0.608664  0.573738  0.595386  
bb.gem.m6.ugain = 0.695905  0.750273  0.821514  0.859216  0.947652  0.984586  1  0.945926  0.93652  0.911664  
bb.gem.m7.vgain = 1  1  1  1  1  1  1  1  
bb.gem.m7.ugain = 1  1  1  1  1  1  1  1  1  1  
bb.gem.m8.vgain = 0.735288  0.652323  0.642554  0.622853  0.676462  0.63188  0.618709  0.619603  0.674037  0.634808  0.68306  0.652194  
bb.gem.m8.ugain = 1  1  0.956334  0.94734  0.873059  0.918472  0.948236  0.963325  0.96854  1  
bb.gem.m9.vgain = 0.962973  0.860733  0.853434  0.857161  0.855394  0.773833  0.807063  0.750131  0.761543  0.80281  0.773939  1  
bb.gem.m9.ugain = 1.08465  1.11585  1.08592  1.10795  1.10239  1.03277  0.904835  1.06332  1  0.980283  
bb.gem.m10.vgain = 0.886575  0.899467  0.848107  0.871902  0.93197  0.872672  0.909606  0.865741  0.897876  0.936003  0.954451  1.23389  
bb.gem.m10.ugain = 0.845414  1  0.982543  0.918273  0.890762  0.883554  0.889483  0.832815  0.802482  0.756044  
bb.gem.m11.vgain = 1  0.734498  0.730236  0.711474  0.679092  0.71546  0.720327  0.719287  0.716543  0.704066  0.767786  0.857985  
bb.gem.m11.ugain = 1.00183  1.05254  1  0.992189  0.955616  0.946197  0.995985  0.984601  0.960072  0.968866  

# Module average gains relative to target ADC peak position of 4000
bb.gem.m0.modulegain = 0.990594
bb.gem.m1.modulegain = 0.850785
bb.gem.m2.modulegain = 0.956063
bb.gem.m3.modulegain = 0.842642
bb.gem.m4.modulegain = 0.948227
bb.gem.m5.modulegain = 1.02542
bb.gem.m6.modulegain = 1.34723
bb.gem.m7.modulegain = 1
bb.gem.m8.modulegain = 1.24808
bb.gem.m9.modulegain = 1.09109
bb.gem.m10.modulegain = 1.11082
bb.gem.m11.modulegain = 1.16699




---------[ 2021-11-12 00:00:00 ] # start of SBS-7: initial gain-match coefficients for quality-check replays:

# The following set of gain coefficients was generated using all of the SBS-7 LH2 data:

#Module internal relative gains by APV card: 
bb.gem.m0.vgain = 1  1  0.93796  1.04132  1.1027  1.06509  1.06104  1.11107  1.09922  1.03512  1.00659  1.10131  1.11036  1.07748  1.06717  1.04199  1.07547  1.01272  0.985586  0.992543  1.02405  0.983147  1.02447  0.975855  0.957226  0.972421  1  1  1  1  
bb.gem.m0.ugain = 1  0.847037  0.929507  1.01848  0.983786  0.898213  0.996738  0.97043  1.02295  0.980342  1.03689  1.00611  0.932401  0.967318  1  0.961741  0.916966  0.961722  0.892952  0.922174  0.90922  0.884242  0.84174  0.907635  0.821906  1  1  1  1  1  
bb.gem.m1.vgain = 1.81206  1.46261  1.42068  1.31466  1.2791  1.34981  1.33023  1  
bb.gem.m1.ugain = 1  0.960916  1.04906  0.888687  0.975806  0.909603  0.907972  0.961369  0.975807  1  
bb.gem.m2.vgain = 1.11941  1.03601  1.01961  1.02535  1.03151  1.05195  1.04624  1  
bb.gem.m2.ugain = 1.1567  1.03912  1.04651  1.01163  1.00123  1  0.986737  1.08158  0.974601  1.06417  
bb.gem.m3.vgain = 1.67201  1.44075  1.53453  1.33735  1.32939  1.2373  1.19848  1  
bb.gem.m3.ugain = 1  1.01195  1.02483  1.10376  1.23028  1.23818  1.18998  1  1  1  
bb.gem.m4.vgain = 1  0.984767  1.03568  1.13795  1.13109  1.10548  1.0949  1.14569  1.09169  1.11509  1.06213  1.10743  1.10928  1.13577  1.10117  1.10136  1.09962  1.10351  1.09229  1.02214  1.06192  1.07894  1.06531  1.08184  1.01919  1.03079  0.970737  1  1  1  
bb.gem.m4.ugain = 0.689615  0.755081  0.867409  0.975256  0.973739  1.04163  1.05224  0.995277  1.04905  0.992816  1.0534  1.04604  1.01668  1.00646  1  1.03966  1.03511  1.07089  0.988988  1.01456  1.04552  0.993932  0.987867  1.0016  0.989005  0.989408  1  1  1  1  
bb.gem.m5.vgain = 0.983552  0.911148  0.961983  0.914333  1  0.977272  1  1  
bb.gem.m5.ugain = 1.04815  1.04301  0.985058  0.992177  0.979648  0.995836  0.995214  1.0472  1.02032  1  
bb.gem.m6.vgain = 0.594354  0.586939  0.636133  0.612758  0.589126  0.608731  0.573032  0.631377  
bb.gem.m6.ugain = 0.705007  0.746756  0.821418  0.851966  0.941459  0.986572  1  0.942663  0.933327  0.928035  
bb.gem.m7.vgain = 1  1  1  1  1  1  1  1  
bb.gem.m7.ugain = 1  1  1  1  1  1  1  1  1  1  
bb.gem.m8.vgain = 1  0.643999  0.628238  0.60862  0.659281  0.614493  0.598576  0.590983  0.668745  0.635034  0.681005  0.626018  
bb.gem.m8.ugain = 1  1  1  0.888365  0.843221  0.902161  0.933894  0.953336  0.952282  1  
bb.gem.m9.vgain = 0.906622  0.857771  0.847113  0.85253  0.85781  0.772524  0.806064  0.747082  0.757225  0.804596  0.759429  1  
bb.gem.m9.ugain = 1.09198  1.12803  1.08664  1.11073  1.10047  1.03548  0.907716  1.06732  1  0.98083  
bb.gem.m10.vgain = 1  0.878735  0.839126  0.860588  0.911619  0.865211  0.90221  0.853525  0.891963  0.924853  0.953205  1.24787  
bb.gem.m10.ugain = 0.836877  1  0.982477  0.921092  0.894285  0.879729  0.889493  0.831982  0.795674  0.752589  
bb.gem.m11.vgain = 1  0.714669  0.722055  0.706072  0.673767  0.703879  0.710516  0.706606  0.70501  0.69612  0.759647  0.884799  
bb.gem.m11.ugain = 0.999173  1.04912  1  0.988008  0.951401  0.955058  1.00658  0.998872  0.961848  0.978767  

# Module average gains relative to target ADC peak position of 4000
bb.gem.m0.modulegain = 0.996696
bb.gem.m1.modulegain = 0.833143
bb.gem.m2.modulegain = 0.963386
bb.gem.m3.modulegain = 0.806794
bb.gem.m4.modulegain = 0.946368
bb.gem.m5.modulegain = 1.03614
bb.gem.m6.modulegain = 1.33899
bb.gem.m7.modulegain = 1
bb.gem.m8.modulegain = 1.26568
bb.gem.m9.modulegain = 1.09652
bb.gem.m10.modulegain = 1.116
bb.gem.m11.modulegain = 1.17304


######################### END TIME-DEPENDENT GAIN-MATCH PARAMETERS $$$$$$$$$$$$$$$$$$$$$$$$

###################### BEGIN TIME-DEPENDENT CLUSTERING PARAMETERS #############


-----------[ 2021-10-17 19:12:00 ] # new higher thresholds after GEM HV increase
bb.gem.threshold_sample = 0.0
bb.gem.threshold_stripsum = 0.0
bb.gem.threshold_clustersum = 0.0

###############################################################################

###################### BEGIN TIME-DEPENDENT OPTICS track search constraints #############

-----------[ 2021-01-01 00:00:00 ] # at SBS-1, the max. good electron momentum is about 1.5 GeV
bb.gem.useopticsconstraint = 0
bb.gem.xptar_min = -0.25
bb.gem.xptar_max = 0.25
bb.gem.yptar_min = -0.08
bb.gem.yptar_max = 0.08
bb.gem.ytar_min = -0.08
bb.gem.ytar_max = 0.08
bb.gem.pmin = 0.5
bb.gem.pmax = 1.5

bb.gem.usestriptimingcut = 0

bb.gem.addstrip_ccor_cut = 0.1
bb.gem.addstrip_tcut = 75.0

# in the new SBS-offline, "tcut" is interpreted as a number of standard deviations, not ns
# we specify the cut value in standard deviations and the std. dev. in ns
bb.gem.maxstrip_tsigma = 1.0

bb.gem.m0.maxstrip_t0 =     84.7
bb.gem.m0.maxstrip_tcut =     24.4
bb.gem.m1.maxstrip_t0 =     83.1
bb.gem.m1.maxstrip_tcut =     26.5
bb.gem.m2.maxstrip_t0 =     85.1
bb.gem.m2.maxstrip_tcut =     24.4
bb.gem.m3.maxstrip_t0 =     84.5
bb.gem.m3.maxstrip_tcut =     26.8
bb.gem.m4.maxstrip_t0 =     85.8
bb.gem.m4.maxstrip_tcut =     24.7
bb.gem.m5.maxstrip_t0 =     83.2
bb.gem.m5.maxstrip_tcut =     30.7
bb.gem.m6.maxstrip_t0 =     82.8
bb.gem.m6.maxstrip_tcut =     27.4
bb.gem.m7.maxstrip_t0 =     96.2
bb.gem.m7.maxstrip_tcut =     32.4
bb.gem.m8.maxstrip_t0 =     87.8
bb.gem.m8.maxstrip_tcut =     24.1
bb.gem.m9.maxstrip_t0 =     89.5
bb.gem.m9.maxstrip_tcut =     25.8
bb.gem.m10.maxstrip_t0 =     89.3
bb.gem.m10.maxstrip_tcut =     25.1
bb.gem.m11.maxstrip_t0 =     83.6
bb.gem.m11.maxstrip_tcut =     24.7

bb.gem.m0.threshold_sample = 108.349
bb.gem.m0.threshold_stripsum = 565
bb.gem.m0.threshold_clustersum = 990
b
bb.gem.m1.threshold_sample = 99.7084
bb.gem.m1.threshold_stripsum = 445
bb.gem.m1.threshold_clustersum = 770

bb.gem.m2.threshold_sample = 104.559
bb.gem.m2.threshold_stripsum = 465
bb.gem.m2.threshold_clustersum = 790

bb.gem.m3.threshold_sample = 101.054
bb.gem.m3.threshold_stripsum = 465
bb.gem.m3.threshold_clustersum = 810

bb.gem.m4.threshold_sample = 96.4713
bb.gem.m4.threshold_stripsum = 535
bb.gem.m4.threshold_clustersum = 930

bb.gem.m5.threshold_sample = 100.177
bb.gem.m5.threshold_stripsum = 455
bb.gem.m5.threshold_clustersum = 790

bb.gem.m6.threshold_sample = 102.82
bb.gem.m6.threshold_stripsum = 455
bb.gem.m6.threshold_clustersum = 810

# module 7 doesn't work ever; set high threshold to exclude from analysis
bb.gem.m7.threshold_sample = 10000
bb.gem.m7.threshold_stripsum = 5
bb.gem.m7.threshold_clustersum = 10

bb.gem.m8.threshold_sample = 92.6519
bb.gem.m8.threshold_stripsum = 545
bb.gem.m8.threshold_clustersum = 1030

bb.gem.m9.threshold_sample = 95.4921
bb.gem.m9.threshold_stripsum = 455
bb.gem.m9.threshold_clustersum = 810

bb.gem.m10.threshold_sample = 100.459
bb.gem.m10.threshold_stripsum = 495
bb.gem.m10.threshold_clustersum = 870

bb.gem.m11.threshold_sample = 100.052
bb.gem.m11.threshold_stripsum = 485
bb.gem.m11.threshold_clustersum = 850



# turn off track search region constraint for zero-field runs in BB with sieve:
---------[ 2021-10-14 21:50:00 ]

bb.gem.useconstraint = 0
bb.gem.useopticsconstraint = 0

---------[ 2021-10-14 23:14:00 ]  

bb.gem.useconstraint = 1
bb.gem.useopticsconstraint = 0

---------[ 2021-10-15 08:21:00 ] # turn on optics constraint after sieve is removed:
bb.gem.useopticsconstraint = 1
bb.gem.useslopeconstraint = 1

bb.gem.constraintwidth_theta = 0.0543298
bb.gem.constraintwidth_phi = 0.0336563

----------[ 2021-10-21 00:00:00 ] # start of SBS-4 kinematics:

bb.gem.ADCasym_sigma = 0.2

bb.gem.useopticsconstraint = 1
bb.gem.xptar_min = -0.3
bb.gem.xptar_max = 0.3
bb.gem.yptar_min = -0.09
bb.gem.yptar_max = 0.1
bb.gem.ytar_min = -0.08
bb.gem.ytar_max = 0.08
bb.gem.pmin = 0.7
bb.gem.pmax = 2.7

bb.gem.usestriptimingcut = 0

bb.gem.addstrip_ccor_cut = 0.1
bb.gem.addstrip_tcut = 75.0

bb.gem.m0.maxstrip_t0 =      84.03      83.74
bb.gem.m0.maxstrip_tsigma =      7.331      7.416
bb.gem.m0.maxstrip_tcut =        4.5        4.5

bb.gem.m0.maxstrip_t0_deconv =      41.87      40.58
bb.gem.m0.maxstrip_tsigma_deconv =      14.15       14.1
bb.gem.m0.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m0.maxstrip_t0_fit =      14.22       13.8
bb.gem.m0.maxstrip_tsigma_fit =      9.958      9.983
bb.gem.m0.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m0.deltat_sigma =       2.4085
bb.gem.m0.deltat_cut =       24.085
bb.gem.m0.deltat_sigma_deconv =       6.9191
bb.gem.m0.deltat_cut_deconv =       69.191
bb.gem.m0.deltat_sigma_fit =       2.7616
bb.gem.m0.deltat_cut_fit =       27.616

bb.gem.m0.HitTimeMean =        81.93       82.318
bb.gem.m0.HitTimeSigma =       7.0922       7.2062
bb.gem.m0.HitTimeMeanDeconv =       35.943       36.728
bb.gem.m0.HitTimeSigmaDeconv =       14.033       13.763
bb.gem.m0.HitTimeMeanFit =       11.732       12.239
bb.gem.m0.HitTimeSigmaFit =       8.9578       9.2398

bb.gem.m0.ADCasym_sigma =     0.059013
bb.gem.m0.ADCratio_sigma =      0.11309
bb.gem.m0.ADCratio_sigma_deconv =      0.11471

bb.gem.m0.sigma_tcorr =       4.6656

bb.gem.m1.maxstrip_t0 =      84.19      81.98
bb.gem.m1.maxstrip_tsigma =      8.226      8.268
bb.gem.m1.maxstrip_tcut =        4.5        4.5

bb.gem.m1.maxstrip_t0_deconv =       42.6       38.7
bb.gem.m1.maxstrip_tsigma_deconv =      16.17      17.04
bb.gem.m1.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m1.maxstrip_t0_fit =      14.76      11.98
bb.gem.m1.maxstrip_tsigma_fit =      11.56      10.85
bb.gem.m1.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m1.deltat_sigma =       3.7809
bb.gem.m1.deltat_cut =       37.809
bb.gem.m1.deltat_sigma_deconv =       11.116
bb.gem.m1.deltat_cut_deconv =       111.16
bb.gem.m1.deltat_sigma_fit =         4.27
bb.gem.m1.deltat_cut_fit =         42.7

bb.gem.m1.HitTimeMean =       82.787       80.721
bb.gem.m1.HitTimeSigma =        7.805       8.0559
bb.gem.m1.HitTimeMeanDeconv =       38.782       35.771
bb.gem.m1.HitTimeSigmaDeconv =       15.731       16.914
bb.gem.m1.HitTimeMeanFit =        13.03       10.319
bb.gem.m1.HitTimeSigmaFit =       11.079       10.513

bb.gem.m1.ADCasym_sigma =     0.081792
bb.gem.m1.ADCratio_sigma =      0.15872
bb.gem.m1.ADCratio_sigma_deconv =      0.17206

bb.gem.m1.sigma_tcorr =       5.4404

bb.gem.m2.maxstrip_t0 =      85.99      85.78
bb.gem.m2.maxstrip_tsigma =      7.248      7.278
bb.gem.m2.maxstrip_tcut =        4.5        4.5

bb.gem.m2.maxstrip_t0_deconv =      47.35      46.82
bb.gem.m2.maxstrip_tsigma_deconv =      14.09      13.82
bb.gem.m2.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m2.maxstrip_t0_fit =      17.04      16.16
bb.gem.m2.maxstrip_tsigma_fit =      11.13      10.79
bb.gem.m2.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m2.deltat_sigma =        2.605
bb.gem.m2.deltat_cut =        26.05
bb.gem.m2.deltat_sigma_deconv =       7.0789
bb.gem.m2.deltat_cut_deconv =       70.789
bb.gem.m2.deltat_sigma_fit =       3.2635
bb.gem.m2.deltat_cut_fit =       32.635

bb.gem.m2.HitTimeMean =       84.072       84.411
bb.gem.m2.HitTimeSigma =       6.9637       7.0708
bb.gem.m2.HitTimeMeanDeconv =       42.251       43.469
bb.gem.m2.HitTimeSigmaDeconv =       13.926       13.563
bb.gem.m2.HitTimeMeanFit =       14.574       14.441
bb.gem.m2.HitTimeSigmaFit =       10.193       9.7938

bb.gem.m2.ADCasym_sigma =     0.065286
bb.gem.m2.ADCratio_sigma =      0.12408
bb.gem.m2.ADCratio_sigma_deconv =      0.12477

bb.gem.m2.sigma_tcorr =       4.6179

bb.gem.m3.maxstrip_t0 =      85.69      86.19
bb.gem.m3.maxstrip_tsigma =      7.747      7.319
bb.gem.m3.maxstrip_tcut =        4.5        4.5

bb.gem.m3.maxstrip_t0_deconv =       46.6      47.21
bb.gem.m3.maxstrip_tsigma_deconv =      15.37      14.27
bb.gem.m3.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m3.maxstrip_t0_fit =      16.37      17.05
bb.gem.m3.maxstrip_tsigma_fit =       11.1      11.25
bb.gem.m3.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m3.deltat_sigma =       3.7431
bb.gem.m3.deltat_cut =       37.431
bb.gem.m3.deltat_sigma_deconv =       9.8698
bb.gem.m3.deltat_cut_deconv =       98.698
bb.gem.m3.deltat_sigma_fit =       4.4367
bb.gem.m3.deltat_cut_fit =       44.367

bb.gem.m3.HitTimeMean =       84.112       84.681
bb.gem.m3.HitTimeSigma =       7.4095       7.0654
bb.gem.m3.HitTimeMeanDeconv =       42.316       43.724
bb.gem.m3.HitTimeSigmaDeconv =       15.025       13.849
bb.gem.m3.HitTimeMeanFit =       14.407       15.153
bb.gem.m3.HitTimeSigmaFit =       10.552       10.245

bb.gem.m3.ADCasym_sigma =     0.064075
bb.gem.m3.ADCratio_sigma =      0.12092
bb.gem.m3.ADCratio_sigma_deconv =      0.13327

bb.gem.m3.sigma_tcorr =       4.7617

bb.gem.m4.maxstrip_t0 =      84.72      84.24
bb.gem.m4.maxstrip_tsigma =      7.123      7.214
bb.gem.m4.maxstrip_tcut =        4.5        4.5

bb.gem.m4.maxstrip_t0_deconv =      43.95      42.03
bb.gem.m4.maxstrip_tsigma_deconv =      13.72      13.67
bb.gem.m4.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m4.maxstrip_t0_fit =       15.3      14.56
bb.gem.m4.maxstrip_tsigma_fit =       10.2      10.24
bb.gem.m4.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m4.deltat_sigma =       2.3394
bb.gem.m4.deltat_cut =       23.394
bb.gem.m4.deltat_sigma_deconv =       6.9077
bb.gem.m4.deltat_cut_deconv =       69.077
bb.gem.m4.deltat_sigma_fit =       2.7097
bb.gem.m4.deltat_cut_fit =       27.097

bb.gem.m4.HitTimeMean =       82.731        82.89
bb.gem.m4.HitTimeSigma =       6.8295       6.9313
bb.gem.m4.HitTimeMeanDeconv =       38.757       38.674
bb.gem.m4.HitTimeSigmaDeconv =       13.497       13.237
bb.gem.m4.HitTimeMeanFit =       12.562       12.715
bb.gem.m4.HitTimeSigmaFit =       9.4705       9.5184

bb.gem.m4.ADCasym_sigma =      0.05731
bb.gem.m4.ADCratio_sigma =      0.10845
bb.gem.m4.ADCratio_sigma_deconv =      0.11069

bb.gem.m4.sigma_tcorr =       4.4266

bb.gem.m5.maxstrip_t0 =      80.02      82.99
bb.gem.m5.maxstrip_tsigma =      8.257      9.821
bb.gem.m5.maxstrip_tcut =        4.5        4.5

bb.gem.m5.maxstrip_t0_deconv =      33.11      36.99
bb.gem.m5.maxstrip_tsigma_deconv =      16.24      18.79
bb.gem.m5.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m5.maxstrip_t0_fit =      9.867      13.38
bb.gem.m5.maxstrip_tsigma_fit =       10.5      12.05
bb.gem.m5.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m5.deltat_sigma =       2.7854
bb.gem.m5.deltat_cut =       27.854
bb.gem.m5.deltat_sigma_deconv =       14.176
bb.gem.m5.deltat_cut_deconv =       141.76
bb.gem.m5.deltat_sigma_fit =       3.3666
bb.gem.m5.deltat_cut_fit =       33.666

bb.gem.m5.HitTimeMean =       78.235       81.567
bb.gem.m5.HitTimeSigma =       7.9434       9.6739
bb.gem.m5.HitTimeMeanDeconv =       28.351       33.656
bb.gem.m5.HitTimeSigmaDeconv =       15.942       18.602
bb.gem.m5.HitTimeMeanFit =       7.7762       11.418
bb.gem.m5.HitTimeSigmaFit =       9.6832        11.24

bb.gem.m5.ADCasym_sigma =     0.070115
bb.gem.m5.ADCratio_sigma =      0.13823
bb.gem.m5.ADCratio_sigma_deconv =      0.15151

bb.gem.m5.sigma_tcorr =       5.7394

bb.gem.m6.maxstrip_t0 =      80.36      82.23
bb.gem.m6.maxstrip_tsigma =      7.765      7.591
bb.gem.m6.maxstrip_tcut =        4.5        4.5

bb.gem.m6.maxstrip_t0_deconv =      34.79      37.56
bb.gem.m6.maxstrip_tsigma_deconv =      16.13      15.06
bb.gem.m6.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m6.maxstrip_t0_fit =      10.73       12.4
bb.gem.m6.maxstrip_tsigma_fit =      10.11      10.33
bb.gem.m6.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m6.deltat_sigma =       3.0852
bb.gem.m6.deltat_cut =       30.852
bb.gem.m6.deltat_sigma_deconv =       9.5176
bb.gem.m6.deltat_cut_deconv =       95.176
bb.gem.m6.deltat_sigma_fit =       3.7752
bb.gem.m6.deltat_cut_fit =       37.752

bb.gem.m6.HitTimeMean =       78.777       81.054
bb.gem.m6.HitTimeSigma =       7.4563       7.3402
bb.gem.m6.HitTimeMeanDeconv =       30.307       35.095
bb.gem.m6.HitTimeSigmaDeconv =       16.206       14.823
bb.gem.m6.HitTimeMeanFit =       8.5954       10.721
bb.gem.m6.HitTimeSigmaFit =       9.3873       9.7052

bb.gem.m6.ADCasym_sigma =     0.072608
bb.gem.m6.ADCratio_sigma =      0.13876
bb.gem.m6.ADCratio_sigma_deconv =      0.14832

bb.gem.m6.sigma_tcorr =       5.0464

bb.gem.m8.maxstrip_t0 =      86.31      87.49
bb.gem.m8.maxstrip_tsigma =      7.572      6.786
bb.gem.m8.maxstrip_tcut =        4.5        4.5

bb.gem.m8.maxstrip_t0_deconv =      47.31      54.55
bb.gem.m8.maxstrip_tsigma_deconv =      14.03      11.02
bb.gem.m8.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m8.maxstrip_t0_fit =      16.98      17.69
bb.gem.m8.maxstrip_tsigma_fit =      11.43       11.4
bb.gem.m8.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m8.deltat_sigma =       2.1189
bb.gem.m8.deltat_cut =       21.189
bb.gem.m8.deltat_sigma_deconv =       5.6673
bb.gem.m8.deltat_cut_deconv =       56.673
bb.gem.m8.deltat_sigma_fit =       2.9585
bb.gem.m8.deltat_cut_fit =       29.585

bb.gem.m8.HitTimeMean =       84.804       85.462
bb.gem.m8.HitTimeSigma =       6.9166       6.4864
bb.gem.m8.HitTimeMeanDeconv =       43.277       48.307
bb.gem.m8.HitTimeSigmaDeconv =       12.677       11.241
bb.gem.m8.HitTimeMeanFit =       14.888       14.875
bb.gem.m8.HitTimeSigmaFit =       10.146       9.5051

bb.gem.m8.ADCasym_sigma =     0.046881
bb.gem.m8.ADCratio_sigma =     0.091421
bb.gem.m8.ADCratio_sigma_deconv =     0.092968

bb.gem.m8.sigma_tcorr =       4.3059

bb.gem.m9.maxstrip_t0 =      87.97      89.48
bb.gem.m9.maxstrip_tsigma =      7.376      6.816
bb.gem.m9.maxstrip_tcut =        4.5        4.5

bb.gem.m9.maxstrip_t0_deconv =      50.69      56.97
bb.gem.m9.maxstrip_tsigma_deconv =      14.04      12.23
bb.gem.m9.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m9.maxstrip_t0_fit =      19.82      21.76
bb.gem.m9.maxstrip_tsigma_fit =      12.13      12.26
bb.gem.m9.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m9.deltat_sigma =        2.327
bb.gem.m9.deltat_cut =        23.27
bb.gem.m9.deltat_sigma_deconv =        6.454
bb.gem.m9.deltat_cut_deconv =        64.54
bb.gem.m9.deltat_sigma_fit =       3.1078
bb.gem.m9.deltat_cut_fit =       31.078

bb.gem.m9.HitTimeMean =       86.123       87.142
bb.gem.m9.HitTimeSigma =       6.9146       6.5647
bb.gem.m9.HitTimeMeanDeconv =       46.272       51.028
bb.gem.m9.HitTimeSigmaDeconv =       13.356       12.375
bb.gem.m9.HitTimeMeanFit =       17.124       18.351
bb.gem.m9.HitTimeSigmaFit =        11.15       10.672

bb.gem.m9.ADCasym_sigma =     0.051743
bb.gem.m9.ADCratio_sigma =      0.10134
bb.gem.m9.ADCratio_sigma_deconv =      0.10537

bb.gem.m9.sigma_tcorr =        4.476

bb.gem.m10.maxstrip_t0 =      87.76      88.24
bb.gem.m10.maxstrip_tsigma =      7.263      6.977
bb.gem.m10.maxstrip_tcut =        4.5        4.5

bb.gem.m10.maxstrip_t0_deconv =      49.54      52.11
bb.gem.m10.maxstrip_tsigma_deconv =      13.89      13.29
bb.gem.m10.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m10.maxstrip_t0_fit =      19.54      20.26
bb.gem.m10.maxstrip_tsigma_fit =      11.63      11.73
bb.gem.m10.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m10.deltat_sigma =       2.4297
bb.gem.m10.deltat_cut =       24.297
bb.gem.m10.deltat_sigma_deconv =       6.7582
bb.gem.m10.deltat_cut_deconv =       67.582
bb.gem.m10.deltat_sigma_fit =       3.1145
bb.gem.m10.deltat_cut_fit =       31.145

bb.gem.m10.HitTimeMean =       86.122       85.954
bb.gem.m10.HitTimeSigma =       6.9175       6.7414
bb.gem.m10.HitTimeMeanDeconv =       45.392       46.124
bb.gem.m10.HitTimeSigmaDeconv =       13.343       13.241
bb.gem.m10.HitTimeMeanFit =       17.177       16.925
bb.gem.m10.HitTimeSigmaFit =       10.715       10.413

bb.gem.m10.ADCasym_sigma =     0.057109
bb.gem.m10.ADCratio_sigma =      0.11241
bb.gem.m10.ADCratio_sigma_deconv =      0.11228

bb.gem.m10.sigma_tcorr =       4.5063

bb.gem.m11.maxstrip_t0 =      85.01      85.35
bb.gem.m11.maxstrip_tsigma =      8.032      7.171
bb.gem.m11.maxstrip_tcut =        4.5        4.5

bb.gem.m11.maxstrip_t0_deconv =      43.01      45.52
bb.gem.m11.maxstrip_tsigma_deconv =       15.7       13.5
bb.gem.m11.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m11.maxstrip_t0_fit =      15.53         16
bb.gem.m11.maxstrip_tsigma_fit =      11.57      10.68
bb.gem.m11.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m11.deltat_sigma =       2.1794
bb.gem.m11.deltat_cut =       21.794
bb.gem.m11.deltat_sigma_deconv =       6.7363
bb.gem.m11.deltat_cut_deconv =       67.363
bb.gem.m11.deltat_sigma_fit =        2.697
bb.gem.m11.deltat_cut_fit =        26.97

bb.gem.m11.HitTimeMean =       83.452        83.01
bb.gem.m11.HitTimeSigma =       7.3626        6.854
bb.gem.m11.HitTimeMeanDeconv =       39.099       39.135
bb.gem.m11.HitTimeSigmaDeconv =       14.641       13.194
bb.gem.m11.HitTimeMeanFit =       13.487       12.745
bb.gem.m11.HitTimeSigmaFit =       10.307       9.4878

bb.gem.m11.ADCasym_sigma =     0.049282
bb.gem.m11.ADCratio_sigma =     0.096936
bb.gem.m11.ADCratio_sigma_deconv =     0.096267

bb.gem.m11.sigma_tcorr =       4.5731

bb.gem.m0.threshold_sample =          110
bb.gem.m0.threshold_stripsum =          440
bb.gem.m0.threshold_clustersum =          780

bb.gem.m1.threshold_sample =           86
bb.gem.m1.threshold_stripsum =          350
bb.gem.m1.threshold_clustersum =          620

bb.gem.m2.threshold_sample =           94
bb.gem.m2.threshold_stripsum =          370
bb.gem.m2.threshold_clustersum =          660

bb.gem.m3.threshold_sample =           96
bb.gem.m3.threshold_stripsum =          390
bb.gem.m3.threshold_clustersum =          680

bb.gem.m4.threshold_sample =          104
bb.gem.m4.threshold_stripsum =          430
bb.gem.m4.threshold_clustersum =          780

bb.gem.m5.threshold_sample =           90
bb.gem.m5.threshold_stripsum =          370
bb.gem.m5.threshold_clustersum =          660

bb.gem.m6.threshold_sample =           88
bb.gem.m6.threshold_stripsum =          370
bb.gem.m6.threshold_clustersum =          660

bb.gem.m8.threshold_sample =           96
bb.gem.m8.threshold_stripsum =          360
bb.gem.m8.threshold_clustersum =          680

bb.gem.m9.threshold_sample =           92
bb.gem.m9.threshold_stripsum =          350
bb.gem.m9.threshold_clustersum =          620

bb.gem.m10.threshold_sample =          100
bb.gem.m10.threshold_stripsum =          390
bb.gem.m10.threshold_clustersum =          700

bb.gem.m11.threshold_sample =           92
bb.gem.m11.threshold_stripsum =          360
bb.gem.m11.threshold_clustersum =          660

bb.gem.constraintwidth_theta = 0.030174
bb.gem.constraintwidth_phi = 0.02651


-----------[ 2021-10-24 23:10:00 ] # Zero-field run for SBS-4:
bb.gem.useconstraint = 1
bb.gem.useopticsconstraint = 0
bb.gem.useslopeconstraint = 0

-----------[ 2021-10-25 00:18:00 ] # Optics runs with field-on for SBS-4:
bb.gem.useconstraint = 1
bb.gem.useopticsconstraint = 0

----------[ 2021-10-25 04:52:00 ] # for production turn on optics and track slope constraints

-----------[ 2021-11-12 00:00:00 ] # at SBS-7, the max. good electron momentum is about 3.5 GeV
bb.gem.useconstraint = 0 # start with no constraint for zero-field runs
bb.gem.useopticsconstraint = 0
bb.gem.useslopeconstraint = 0

# these may need adjusting:
bb.gem.usestriptimingcut = 0

bb.gem.addstrip_ccor_cut = 0.1
bb.gem.addstrip_tcut = 75.0


bb.gem.maxstrip_tsigma = 1.0

bb.gem.m0.maxstrip_t0 =     86.8
bb.gem.m0.maxstrip_tcut =     23.9
bb.gem.m1.maxstrip_t0 =     86.6
bb.gem.m1.maxstrip_tcut =       27
bb.gem.m2.maxstrip_t0 =     87.7
bb.gem.m2.maxstrip_tcut =     25.3
bb.gem.m3.maxstrip_t0 =     87.9
bb.gem.m3.maxstrip_tcut =     25.7
bb.gem.m4.maxstrip_t0 =       88
bb.gem.m4.maxstrip_tcut =     24.3
bb.gem.m5.maxstrip_t0 =     86.9
bb.gem.m5.maxstrip_tcut =     28.8
bb.gem.m6.maxstrip_t0 =     85.5
bb.gem.m6.maxstrip_tcut =     26.2
bb.gem.m7.maxstrip_t0 =       91
bb.gem.m7.maxstrip_tcut =        0
bb.gem.m8.maxstrip_t0 =     92.3
bb.gem.m8.maxstrip_tcut =     26.3
bb.gem.m9.maxstrip_t0 =     91.4
bb.gem.m9.maxstrip_tcut =     24.7
bb.gem.m10.maxstrip_t0 =     91.5
bb.gem.m10.maxstrip_tcut =     23.9
bb.gem.m11.maxstrip_t0 =     88.7
bb.gem.m11.maxstrip_tcut =     24.8

bb.gem.m0.threshold_sample =           82
bb.gem.m0.threshold_stripsum =          320
bb.gem.m0.threshold_clustersum =          580

bb.gem.m1.threshold_sample =           82
bb.gem.m1.threshold_stripsum =          320
bb.gem.m1.threshold_clustersum =          580

bb.gem.m2.threshold_sample =           84
bb.gem.m2.threshold_stripsum =          330
bb.gem.m2.threshold_clustersum =          580

bb.gem.m3.threshold_sample =           92
bb.gem.m3.threshold_stripsum =          360
bb.gem.m3.threshold_clustersum =          640

bb.gem.m4.threshold_sample =           90
bb.gem.m4.threshold_stripsum =          350
bb.gem.m4.threshold_clustersum =          640

bb.gem.m5.threshold_sample =           88
bb.gem.m5.threshold_stripsum =          350
bb.gem.m5.threshold_clustersum =          620

bb.gem.m6.threshold_sample =           82
bb.gem.m6.threshold_stripsum =          340
bb.gem.m6.threshold_clustersum =          600

bb.gem.m8.threshold_sample =           88
bb.gem.m8.threshold_stripsum =          320
bb.gem.m8.threshold_clustersum =          580

bb.gem.m9.threshold_sample =           70
bb.gem.m9.threshold_stripsum =          270
bb.gem.m9.threshold_clustersum =          460

bb.gem.m10.threshold_sample =           82
bb.gem.m10.threshold_stripsum =          310
bb.gem.m10.threshold_clustersum =          540

bb.gem.m11.threshold_sample =           82
bb.gem.m11.threshold_stripsum =          300
bb.gem.m11.threshold_clustersum =          540

bb.gem.constraintwidth_theta = 0.0313858
bb.gem.constraintwidth_phi = 0.0292218



-----------[ 2021-11-13 10:15:00 ] # turn on constraints after turning on BB magnet:  

bb.gem.useconstraint = 1

bb.gem.useopticsconstraint = 0
bb.gem.xptar_min = -0.3
bb.gem.xptar_max = 0.3
bb.gem.yptar_min = -0.1
bb.gem.yptar_max = 0.1
bb.gem.ytar_min = -0.08
bb.gem.ytar_max = 0.08
bb.gem.pmin = 0.8
bb.gem.pmax = 3.5

bb.gem.useslopeconstraint = 0
bb.gem.xpfp_min = -0.4
bb.gem.xpfp_max = 0.4 
bb.gem.ypfp_min = -0.1
bb.gem.ypfp_max = 0.1

----------[ 2021-11-13 20:10:00 ] # turn on track slope and optics constraints when going to production
bb.gem.useopticsconstraint = 1
bb.gem.useslopeconstraint = 0
bb.gem.useforwardopticsconstraint = 1

----------[ 2021-11-13 13:55:00 ] # after re-adjusting GEM latency:


# these may need adjusting:
bb.gem.usestriptimingcut = 1

bb.gem.addstrip_ccor_cut = 0.1
bb.gem.addstrip_tcut = 75.0

bb.gem.m0.maxstrip_t0 =      88.09      87.97
bb.gem.m0.maxstrip_tsigma =      7.704      7.677
bb.gem.m0.maxstrip_tcut =        4.5        4.5

bb.gem.m0.maxstrip_t0_deconv =      49.67      48.36
bb.gem.m0.maxstrip_tsigma_deconv =      15.08      14.94
bb.gem.m0.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m0.maxstrip_t0_fit =      20.46      20.28
bb.gem.m0.maxstrip_tsigma_fit =      12.21      11.83
bb.gem.m0.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m0.deltat_sigma =       3.0741
bb.gem.m0.deltat_cut =       30.741
bb.gem.m0.deltat_sigma_deconv =       7.8898
bb.gem.m0.deltat_cut_deconv =       78.898
bb.gem.m0.deltat_sigma_fit =       3.5032
bb.gem.m0.deltat_cut_fit =       35.032

bb.gem.m0.HitTimeMean =        85.98       86.464
bb.gem.m0.HitTimeSigma =       7.5808       7.5289
bb.gem.m0.HitTimeMeanDeconv =       43.773        44.31
bb.gem.m0.HitTimeSigmaDeconv =       15.341       14.791
bb.gem.m0.HitTimeMeanFit =        17.73       18.228
bb.gem.m0.HitTimeSigmaFit =       11.157       11.126

bb.gem.m0.ADCasym_sigma =     0.072371
bb.gem.m0.ADCratio_sigma =      0.13384
bb.gem.m0.ADCratio_sigma_deconv =      0.13713

bb.gem.m0.sigma_tcorr =       5.3656

bb.gem.m1.maxstrip_t0 =      87.83      85.76
bb.gem.m1.maxstrip_tsigma =      8.915      8.785
bb.gem.m1.maxstrip_tcut =        4.5        4.5

bb.gem.m1.maxstrip_t0_deconv =      48.25      45.54
bb.gem.m1.maxstrip_tsigma_deconv =       18.2      18.01
bb.gem.m1.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m1.maxstrip_t0_fit =      20.72      17.91
bb.gem.m1.maxstrip_tsigma_fit =      14.48      13.68
bb.gem.m1.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m1.deltat_sigma =       3.7001
bb.gem.m1.deltat_cut =       37.001
bb.gem.m1.deltat_sigma_deconv =       9.8626
bb.gem.m1.deltat_cut_deconv =       98.626
bb.gem.m1.deltat_sigma_fit =        4.445
bb.gem.m1.deltat_cut_fit =        44.45

bb.gem.m1.HitTimeMean =       86.427       84.438
bb.gem.m1.HitTimeSigma =        8.339       8.3152
bb.gem.m1.HitTimeMeanDeconv =       44.592       42.504
bb.gem.m1.HitTimeSigmaDeconv =       17.582       17.766
bb.gem.m1.HitTimeMeanFit =       19.283       16.357
bb.gem.m1.HitTimeSigmaFit =       13.447       12.933

bb.gem.m1.ADCasym_sigma =     0.096669
bb.gem.m1.ADCratio_sigma =      0.18817
bb.gem.m1.ADCratio_sigma_deconv =       0.1945

bb.gem.m1.sigma_tcorr =       6.0998

bb.gem.m2.maxstrip_t0 =      88.78      88.82
bb.gem.m2.maxstrip_tsigma =      7.877      7.942
bb.gem.m2.maxstrip_tcut =        4.5        4.5

bb.gem.m2.maxstrip_t0_deconv =      51.42      51.15
bb.gem.m2.maxstrip_tsigma_deconv =      15.67      15.67
bb.gem.m2.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m2.maxstrip_t0_fit =      22.34      21.57
bb.gem.m2.maxstrip_tsigma_fit =      13.19      12.98
bb.gem.m2.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m2.deltat_sigma =       3.2397
bb.gem.m2.deltat_cut =       32.397
bb.gem.m2.deltat_sigma_deconv =       8.2021
bb.gem.m2.deltat_cut_deconv =       82.021
bb.gem.m2.deltat_sigma_fit =       3.9123
bb.gem.m2.deltat_cut_fit =       39.123

bb.gem.m2.HitTimeMean =        86.85       87.343
bb.gem.m2.HitTimeSigma =       7.6273       7.7631
bb.gem.m2.HitTimeMeanDeconv =       46.456       47.716
bb.gem.m2.HitTimeSigmaDeconv =       15.838       15.501
bb.gem.m2.HitTimeMeanFit =        19.84       19.862
bb.gem.m2.HitTimeSigmaFit =       12.473       12.262

bb.gem.m2.ADCasym_sigma =     0.074106
bb.gem.m2.ADCratio_sigma =      0.14131
bb.gem.m2.ADCratio_sigma_deconv =      0.14268

bb.gem.m2.sigma_tcorr =       5.3941

bb.gem.m3.maxstrip_t0 =      89.01      88.97
bb.gem.m3.maxstrip_tsigma =      8.216      7.796
bb.gem.m3.maxstrip_tcut =        4.5        4.5

bb.gem.m3.maxstrip_t0_deconv =      51.37      51.05
bb.gem.m3.maxstrip_tsigma_deconv =      16.23      15.59
bb.gem.m3.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m3.maxstrip_t0_fit =      21.84       21.9
bb.gem.m3.maxstrip_tsigma_fit =      13.42      13.01
bb.gem.m3.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m3.deltat_sigma =       3.9976
bb.gem.m3.deltat_cut =       39.976
bb.gem.m3.deltat_sigma_deconv =       10.082
bb.gem.m3.deltat_cut_deconv =       100.82
bb.gem.m3.deltat_sigma_fit =       4.8267
bb.gem.m3.deltat_cut_fit =       48.267

bb.gem.m3.HitTimeMean =       87.366       87.315
bb.gem.m3.HitTimeSigma =       8.0635       7.6626
bb.gem.m3.HitTimeMeanDeconv =       46.964       47.167
bb.gem.m3.HitTimeSigmaDeconv =        16.32       15.412
bb.gem.m3.HitTimeMeanFit =       19.973       19.923
bb.gem.m3.HitTimeSigmaFit =        12.47       12.316

bb.gem.m3.ADCasym_sigma =     0.073272
bb.gem.m3.ADCratio_sigma =      0.14291
bb.gem.m3.ADCratio_sigma_deconv =      0.15458

bb.gem.m3.sigma_tcorr =       5.3691

bb.gem.m4.maxstrip_t0 =      88.78       88.9
bb.gem.m4.maxstrip_tsigma =      7.453      7.499
bb.gem.m4.maxstrip_tcut =        4.5        4.5

bb.gem.m4.maxstrip_t0_deconv =      51.48      50.65
bb.gem.m4.maxstrip_tsigma_deconv =      14.42      14.42
bb.gem.m4.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m4.maxstrip_t0_fit =      21.61       21.5
bb.gem.m4.maxstrip_tsigma_fit =      12.28      12.29
bb.gem.m4.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m4.deltat_sigma =       2.8087
bb.gem.m4.deltat_cut =       28.087
bb.gem.m4.deltat_sigma_deconv =        7.463
bb.gem.m4.deltat_cut_deconv =        74.63
bb.gem.m4.deltat_sigma_fit =       3.1949
bb.gem.m4.deltat_cut_fit =       31.949

bb.gem.m4.HitTimeMean =       86.724        87.44
bb.gem.m4.HitTimeSigma =       7.3244       7.3162
bb.gem.m4.HitTimeMeanDeconv =       46.184       46.989
bb.gem.m4.HitTimeSigmaDeconv =       14.638       14.209
bb.gem.m4.HitTimeMeanFit =       18.895       19.448
bb.gem.m4.HitTimeSigmaFit =       11.443       11.825

bb.gem.m4.ADCasym_sigma =     0.066262
bb.gem.m4.ADCratio_sigma =      0.12653
bb.gem.m4.ADCratio_sigma_deconv =      0.12463

bb.gem.m4.sigma_tcorr =       5.0386

bb.gem.m5.maxstrip_t0 =      85.74      86.94
bb.gem.m5.maxstrip_tsigma =      8.564      9.126
bb.gem.m5.maxstrip_tcut =        4.5        4.5

bb.gem.m5.maxstrip_t0_deconv =       44.3      44.67
bb.gem.m5.maxstrip_tsigma_deconv =      17.29      18.18
bb.gem.m5.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m5.maxstrip_t0_fit =      18.22      19.59
bb.gem.m5.maxstrip_tsigma_fit =       13.4       13.9
bb.gem.m5.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m5.deltat_sigma =        3.069
bb.gem.m5.deltat_cut =        30.69
bb.gem.m5.deltat_sigma_deconv =       8.5015
bb.gem.m5.deltat_cut_deconv =       85.015
bb.gem.m5.deltat_sigma_fit =       3.8026
bb.gem.m5.deltat_cut_fit =       38.026

bb.gem.m5.HitTimeMean =       83.971       85.558
bb.gem.m5.HitTimeSigma =       7.9485       8.8734
bb.gem.m5.HitTimeMeanDeconv =       39.573       41.207
bb.gem.m5.HitTimeSigmaDeconv =       16.835       17.921
bb.gem.m5.HitTimeMeanFit =       15.901       17.672
bb.gem.m5.HitTimeSigmaFit =       12.127       13.396

bb.gem.m5.ADCasym_sigma =     0.076306
bb.gem.m5.ADCratio_sigma =      0.15068
bb.gem.m5.ADCratio_sigma_deconv =       0.1523

bb.gem.m5.sigma_tcorr =       6.0938

bb.gem.m6.maxstrip_t0 =      83.87      86.02
bb.gem.m6.maxstrip_tsigma =      8.148      7.885
bb.gem.m6.maxstrip_tcut =        4.5        4.5

bb.gem.m6.maxstrip_t0_deconv =      42.08      45.05
bb.gem.m6.maxstrip_tsigma_deconv =      17.01      15.78
bb.gem.m6.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m6.maxstrip_t0_fit =      15.76      18.19
bb.gem.m6.maxstrip_tsigma_fit =      12.42      12.09
bb.gem.m6.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m6.deltat_sigma =       3.3966
bb.gem.m6.deltat_cut =       33.966
bb.gem.m6.deltat_sigma_deconv =       9.7403
bb.gem.m6.deltat_cut_deconv =       97.403
bb.gem.m6.deltat_sigma_fit =       4.2748
bb.gem.m6.deltat_cut_fit =       42.748

bb.gem.m6.HitTimeMean =       82.321       84.792
bb.gem.m6.HitTimeSigma =       7.5283       7.5573
bb.gem.m6.HitTimeMeanDeconv =       37.894       42.529
bb.gem.m6.HitTimeSigmaDeconv =       16.899       15.559
bb.gem.m6.HitTimeMeanFit =        13.63       16.439
bb.gem.m6.HitTimeSigmaFit =       11.306       11.834

bb.gem.m6.ADCasym_sigma =     0.082724
bb.gem.m6.ADCratio_sigma =      0.15757
bb.gem.m6.ADCratio_sigma_deconv =      0.16339

bb.gem.m6.sigma_tcorr =       5.5174

bb.gem.m8.maxstrip_t0 =      90.16      93.42
bb.gem.m8.maxstrip_tsigma =      7.629      7.663
bb.gem.m8.maxstrip_tcut =        4.5        4.5

bb.gem.m8.maxstrip_t0_deconv =      54.05      63.82
bb.gem.m8.maxstrip_tsigma_deconv =      14.35      12.89
bb.gem.m8.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m8.maxstrip_t0_fit =      22.96      27.74
bb.gem.m8.maxstrip_tsigma_fit =      13.03      14.72
bb.gem.m8.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m8.deltat_sigma =       2.1047
bb.gem.m8.deltat_cut =       21.047
bb.gem.m8.deltat_sigma_deconv =       5.6638
bb.gem.m8.deltat_cut_deconv =       56.638
bb.gem.m8.deltat_sigma_fit =       3.1446
bb.gem.m8.deltat_cut_fit =       31.446

bb.gem.m8.HitTimeMean =       88.357        91.33
bb.gem.m8.HitTimeSigma =       7.1064       7.7714
bb.gem.m8.HitTimeMeanDeconv =       49.451       58.013
bb.gem.m8.HitTimeSigmaDeconv =       13.366       13.891
bb.gem.m8.HitTimeMeanFit =       20.321       23.641
bb.gem.m8.HitTimeSigmaFit =       11.863       13.611

bb.gem.m8.ADCasym_sigma =     0.056375
bb.gem.m8.ADCratio_sigma =      0.10952
bb.gem.m8.ADCratio_sigma_deconv =      0.13646

bb.gem.m8.sigma_tcorr =       4.9063

bb.gem.m9.maxstrip_t0 =      91.49       92.9
bb.gem.m9.maxstrip_tsigma =      7.316      6.854
bb.gem.m9.maxstrip_tcut =        4.5        4.5

bb.gem.m9.maxstrip_t0_deconv =       57.4      63.34
bb.gem.m9.maxstrip_tsigma_deconv =      14.11      12.28
bb.gem.m9.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m9.maxstrip_t0_fit =      25.44      27.88
bb.gem.m9.maxstrip_tsigma_fit =      13.59      13.51
bb.gem.m9.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m9.deltat_sigma =       2.4129
bb.gem.m9.deltat_cut =       24.129
bb.gem.m9.deltat_sigma_deconv =       6.4439
bb.gem.m9.deltat_cut_deconv =       64.439
bb.gem.m9.deltat_sigma_fit =       3.3371
bb.gem.m9.deltat_cut_fit =       33.371

bb.gem.m9.HitTimeMean =       89.491       90.547
bb.gem.m9.HitTimeSigma =       7.0629       6.7937
bb.gem.m9.HitTimeMeanDeconv =       52.246        57.56
bb.gem.m9.HitTimeSigmaDeconv =       13.546       12.875
bb.gem.m9.HitTimeMeanFit =       22.511       23.911
bb.gem.m9.HitTimeSigmaFit =        12.23       12.384

bb.gem.m9.ADCasym_sigma =     0.053247
bb.gem.m9.ADCratio_sigma =      0.10531
bb.gem.m9.ADCratio_sigma_deconv =       0.1076

bb.gem.m9.sigma_tcorr =       4.9548

bb.gem.m10.maxstrip_t0 =      91.98       92.4
bb.gem.m10.maxstrip_tsigma =      7.366      7.052
bb.gem.m10.maxstrip_tcut =        4.5        4.5

bb.gem.m10.maxstrip_t0_deconv =      57.45      60.08
bb.gem.m10.maxstrip_tsigma_deconv =      13.95      13.35
bb.gem.m10.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m10.maxstrip_t0_fit =      26.31      27.27
bb.gem.m10.maxstrip_tsigma_fit =      13.44      13.14
bb.gem.m10.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m10.deltat_sigma =       2.6312
bb.gem.m10.deltat_cut =       26.312
bb.gem.m10.deltat_sigma_deconv =       6.7745
bb.gem.m10.deltat_cut_deconv =       67.745
bb.gem.m10.deltat_sigma_fit =       3.3427
bb.gem.m10.deltat_cut_fit =       33.427

bb.gem.m10.HitTimeMean =       90.205       90.064
bb.gem.m10.HitTimeSigma =       7.1072       7.0107
bb.gem.m10.HitTimeMeanDeconv =       52.785       54.033
bb.gem.m10.HitTimeSigmaDeconv =       13.633       13.953
bb.gem.m10.HitTimeMeanFit =       23.649        23.47
bb.gem.m10.HitTimeSigmaFit =       12.524       12.379

bb.gem.m10.ADCasym_sigma =     0.059734
bb.gem.m10.ADCratio_sigma =      0.11806
bb.gem.m10.ADCratio_sigma_deconv =      0.12012

bb.gem.m10.sigma_tcorr =        4.967

bb.gem.m11.maxstrip_t0 =       89.1      89.42
bb.gem.m11.maxstrip_tsigma =      8.015      7.293
bb.gem.m11.maxstrip_tcut =        4.5        4.5

bb.gem.m11.maxstrip_t0_deconv =      50.87      53.19
bb.gem.m11.maxstrip_tsigma_deconv =      15.82      13.67
bb.gem.m11.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m11.maxstrip_t0_fit =      21.86      22.03
bb.gem.m11.maxstrip_tsigma_fit =      13.09      12.51
bb.gem.m11.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m11.deltat_sigma =       2.2821
bb.gem.m11.deltat_cut =       22.821
bb.gem.m11.deltat_sigma_deconv =       6.4705
bb.gem.m11.deltat_cut_deconv =       64.705
bb.gem.m11.deltat_sigma_fit =       2.8702
bb.gem.m11.deltat_cut_fit =       28.702

bb.gem.m11.HitTimeMean =       87.438       87.016
bb.gem.m11.HitTimeSigma =       7.4617       7.1664
bb.gem.m11.HitTimeMeanDeconv =       46.401       46.464
bb.gem.m11.HitTimeSigmaDeconv =       14.737       13.894
bb.gem.m11.HitTimeMeanFit =       19.367        18.58
bb.gem.m11.HitTimeSigmaFit =        11.69       11.058

bb.gem.m11.ADCasym_sigma =     0.049942
bb.gem.m11.ADCratio_sigma =     0.096621
bb.gem.m11.ADCratio_sigma_deconv =     0.097242

bb.gem.m11.sigma_tcorr =       5.0471


----------[ 2021-11-16 04:35:00 ] # additional GEM latency adjustment starting with run 12051

# these may need adjusting:
bb.gem.usestriptimingcut = 1

bb.gem.addstrip_ccor_cut = 0.1
bb.gem.addstrip_tcut = 75.0

bb.gem.m0.maxstrip_t0 =      75.24      74.74
bb.gem.m0.maxstrip_tsigma =      7.212      7.213
bb.gem.m0.maxstrip_tcut =        4.5        4.5

bb.gem.m0.maxstrip_t0_deconv =      25.88      24.39
bb.gem.m0.maxstrip_tsigma_deconv =      14.34      13.83
bb.gem.m0.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m0.maxstrip_t0_fit =      4.056      3.497
bb.gem.m0.maxstrip_tsigma_fit =      8.661      8.456
bb.gem.m0.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m0.deltat_sigma =       3.0144
bb.gem.m0.deltat_cut =       30.144
bb.gem.m0.deltat_sigma_deconv =       10.976
bb.gem.m0.deltat_cut_deconv =       109.76
bb.gem.m0.deltat_sigma_fit =       3.9945
bb.gem.m0.deltat_cut_fit =       39.945

bb.gem.m0.HitTimeMean =       73.409       73.492
bb.gem.m0.HitTimeSigma =       7.4698       7.3741
bb.gem.m0.HitTimeMeanDeconv =       22.062       22.372
bb.gem.m0.HitTimeSigmaDeconv =       14.129       13.359
bb.gem.m0.HitTimeMeanFit =       2.5742       2.4777
bb.gem.m0.HitTimeSigmaFit =       8.8712       8.6908

bb.gem.m0.ADCasym_sigma =     0.085554
bb.gem.m0.ADCratio_sigma =      0.16583
bb.gem.m0.ADCratio_sigma_deconv =       0.1819

bb.gem.m0.sigma_tcorr =       5.0243

bb.gem.m1.maxstrip_t0 =      74.34      72.69
bb.gem.m1.maxstrip_tsigma =      8.584      8.217
bb.gem.m1.maxstrip_tcut =        4.5        4.5

bb.gem.m1.maxstrip_t0_deconv =      23.44      21.99
bb.gem.m1.maxstrip_tsigma_deconv =      17.25      17.32
bb.gem.m1.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m1.maxstrip_t0_fit =      3.573      1.526
bb.gem.m1.maxstrip_tsigma_fit =       10.1      10.24
bb.gem.m1.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m1.deltat_sigma =       3.9044
bb.gem.m1.deltat_cut =       39.044
bb.gem.m1.deltat_sigma_deconv =       13.167
bb.gem.m1.deltat_cut_deconv =       131.67
bb.gem.m1.deltat_sigma_fit =       4.8766
bb.gem.m1.deltat_cut_fit =       48.766

bb.gem.m1.HitTimeMean =       73.324       71.574
bb.gem.m1.HitTimeSigma =       8.5431       8.4143
bb.gem.m1.HitTimeMeanDeconv =       21.766       21.751
bb.gem.m1.HitTimeSigmaDeconv =       16.211       16.649
bb.gem.m1.HitTimeMeanFit =       2.5576      0.28648
bb.gem.m1.HitTimeSigmaFit =       10.222       10.437

bb.gem.m1.ADCasym_sigma =      0.11313
bb.gem.m1.ADCratio_sigma =      0.20764
bb.gem.m1.ADCratio_sigma_deconv =      0.22689

bb.gem.m1.sigma_tcorr =       6.0534

bb.gem.m2.maxstrip_t0 =      75.76      75.61
bb.gem.m2.maxstrip_tsigma =      7.521      7.479
bb.gem.m2.maxstrip_tcut =        4.5        4.5

bb.gem.m2.maxstrip_t0_deconv =      27.33       26.8
bb.gem.m2.maxstrip_tsigma_deconv =       15.2      14.79
bb.gem.m2.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m2.maxstrip_t0_fit =      4.678       4.26
bb.gem.m2.maxstrip_tsigma_fit =      8.962      8.899
bb.gem.m2.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m2.deltat_sigma =       3.0969
bb.gem.m2.deltat_cut =       30.969
bb.gem.m2.deltat_sigma_deconv =       10.964
bb.gem.m2.deltat_cut_deconv =       109.64
bb.gem.m2.deltat_sigma_fit =       3.9719
bb.gem.m2.deltat_cut_fit =       39.719

bb.gem.m2.HitTimeMean =       74.258       74.587
bb.gem.m2.HitTimeSigma =       7.6386        7.593
bb.gem.m2.HitTimeMeanDeconv =       24.344       25.383
bb.gem.m2.HitTimeSigmaDeconv =       14.883       14.318
bb.gem.m2.HitTimeMeanFit =       3.2058       3.3248
bb.gem.m2.HitTimeSigmaFit =       9.1735       8.8507

bb.gem.m2.ADCasym_sigma =     0.088929
bb.gem.m2.ADCratio_sigma =      0.17097
bb.gem.m2.ADCratio_sigma_deconv =       0.1983

bb.gem.m2.sigma_tcorr =       5.3503

bb.gem.m3.maxstrip_t0 =      76.12      75.69
bb.gem.m3.maxstrip_tsigma =      7.796       7.43
bb.gem.m3.maxstrip_tcut =        4.5        4.5

bb.gem.m3.maxstrip_t0_deconv =      27.67      26.59
bb.gem.m3.maxstrip_tsigma_deconv =      15.75      14.81
bb.gem.m3.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m3.maxstrip_t0_fit =      4.991       4.47
bb.gem.m3.maxstrip_tsigma_fit =      9.148      8.772
bb.gem.m3.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m3.deltat_sigma =       4.0277
bb.gem.m3.deltat_cut =       40.277
bb.gem.m3.deltat_sigma_deconv =       11.837
bb.gem.m3.deltat_cut_deconv =       118.37
bb.gem.m3.deltat_sigma_fit =       4.8786
bb.gem.m3.deltat_cut_fit =       48.786

bb.gem.m3.HitTimeMean =       74.791       74.535
bb.gem.m3.HitTimeSigma =       7.8469       7.4806
bb.gem.m3.HitTimeMeanDeconv =       24.666       24.674
bb.gem.m3.HitTimeSigmaDeconv =       15.091       14.474
bb.gem.m3.HitTimeMeanFit =       3.7908       3.2554
bb.gem.m3.HitTimeSigmaFit =       9.2053       8.8233

bb.gem.m3.ADCasym_sigma =     0.082552
bb.gem.m3.ADCratio_sigma =      0.15398
bb.gem.m3.ADCratio_sigma_deconv =      0.17381

bb.gem.m3.sigma_tcorr =       5.1033

bb.gem.m4.maxstrip_t0 =      75.93      75.72
bb.gem.m4.maxstrip_tsigma =      7.027      7.119
bb.gem.m4.maxstrip_tcut =        4.5        4.5

bb.gem.m4.maxstrip_t0_deconv =      27.65      26.61
bb.gem.m4.maxstrip_tsigma_deconv =      13.88      13.39
bb.gem.m4.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m4.maxstrip_t0_fit =      4.453      4.299
bb.gem.m4.maxstrip_tsigma_fit =       8.49      8.375
bb.gem.m4.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m4.deltat_sigma =       2.8166
bb.gem.m4.deltat_cut =       28.166
bb.gem.m4.deltat_sigma_deconv =       9.4942
bb.gem.m4.deltat_cut_deconv =       94.942
bb.gem.m4.deltat_sigma_fit =       3.3514
bb.gem.m4.deltat_cut_fit =       33.514

bb.gem.m4.HitTimeMean =       74.241       74.632
bb.gem.m4.HitTimeSigma =       7.1591       7.1454
bb.gem.m4.HitTimeMeanDeconv =        24.04       24.498
bb.gem.m4.HitTimeSigmaDeconv =       13.584       12.742
bb.gem.m4.HitTimeMeanFit =       2.8588       3.2283
bb.gem.m4.HitTimeSigmaFit =       8.5418       8.4158

bb.gem.m4.ADCasym_sigma =     0.072383
bb.gem.m4.ADCratio_sigma =      0.14089
bb.gem.m4.ADCratio_sigma_deconv =      0.15591

bb.gem.m4.sigma_tcorr =       4.7433

bb.gem.m5.maxstrip_t0 =      72.85      72.39
bb.gem.m5.maxstrip_tsigma =      7.688      7.946
bb.gem.m5.maxstrip_tcut =        4.5        4.5

bb.gem.m5.maxstrip_t0_deconv =      21.31      18.27
bb.gem.m5.maxstrip_tsigma_deconv =      15.72      15.62
bb.gem.m5.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m5.maxstrip_t0_fit =      1.791      1.728
bb.gem.m5.maxstrip_tsigma_fit =      9.542      9.433
bb.gem.m5.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m5.deltat_sigma =       3.0959
bb.gem.m5.deltat_cut =       30.959
bb.gem.m5.deltat_sigma_deconv =       11.693
bb.gem.m5.deltat_cut_deconv =       116.93
bb.gem.m5.deltat_sigma_fit =       4.0897
bb.gem.m5.deltat_cut_fit =       40.897

bb.gem.m5.HitTimeMean =       71.314         71.3
bb.gem.m5.HitTimeSigma =       7.8586       8.1335
bb.gem.m5.HitTimeMeanDeconv =        19.48       17.548
bb.gem.m5.HitTimeSigmaDeconv =         14.7       15.086
bb.gem.m5.HitTimeMeanFit =     0.019553      0.44849
bb.gem.m5.HitTimeSigmaFit =       9.8573       9.8669

bb.gem.m5.ADCasym_sigma =     0.081729
bb.gem.m5.ADCratio_sigma =      0.15277
bb.gem.m5.ADCratio_sigma_deconv =      0.18078

bb.gem.m5.sigma_tcorr =       5.4491

bb.gem.m6.maxstrip_t0 =      71.51       72.9
bb.gem.m6.maxstrip_tsigma =      7.133      7.088
bb.gem.m6.maxstrip_tcut =        4.5        4.5

bb.gem.m6.maxstrip_t0_deconv =      19.87      21.21
bb.gem.m6.maxstrip_tsigma_deconv =      16.16      14.41
bb.gem.m6.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m6.maxstrip_t0_fit =     0.3216      1.347
bb.gem.m6.maxstrip_tsigma_fit =      9.314      8.863
bb.gem.m6.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m6.deltat_sigma =       3.3998
bb.gem.m6.deltat_cut =       33.998
bb.gem.m6.deltat_sigma_deconv =       12.968
bb.gem.m6.deltat_cut_deconv =       129.68
bb.gem.m6.deltat_sigma_fit =       4.5235
bb.gem.m6.deltat_cut_fit =       45.235

bb.gem.m6.HitTimeMean =       70.123       71.957
bb.gem.m6.HitTimeSigma =        7.352        7.258
bb.gem.m6.HitTimeMeanDeconv =       18.473       20.711
bb.gem.m6.HitTimeSigmaDeconv =       15.777       13.814
bb.gem.m6.HitTimeMeanFit =      -1.5687      0.14825
bb.gem.m6.HitTimeSigmaFit =       9.9453       9.1171

bb.gem.m6.ADCasym_sigma =     0.092899
bb.gem.m6.ADCratio_sigma =       0.1773
bb.gem.m6.ADCratio_sigma_deconv =      0.20648

bb.gem.m6.sigma_tcorr =       5.0632

bb.gem.m8.maxstrip_t0 =      77.19      79.57
bb.gem.m8.maxstrip_tsigma =      7.181      6.421
bb.gem.m8.maxstrip_tcut =        4.5        4.5

bb.gem.m8.maxstrip_t0_deconv =      30.89      40.72
bb.gem.m8.maxstrip_tsigma_deconv =      13.28      11.17
bb.gem.m8.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m8.maxstrip_t0_fit =      5.169      7.004
bb.gem.m8.maxstrip_tsigma_fit =      8.602      7.997
bb.gem.m8.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m8.deltat_sigma =       2.2766
bb.gem.m8.deltat_cut =       22.766
bb.gem.m8.deltat_sigma_deconv =       6.4888
bb.gem.m8.deltat_cut_deconv =       64.888
bb.gem.m8.deltat_sigma_fit =       2.9049
bb.gem.m8.deltat_cut_fit =       29.049

bb.gem.m8.HitTimeMean =       75.947       77.885
bb.gem.m8.HitTimeSigma =       6.9968       6.0294
bb.gem.m8.HitTimeMeanDeconv =       28.135        35.15
bb.gem.m8.HitTimeSigmaDeconv =       12.251       10.573
bb.gem.m8.HitTimeMeanFit =       4.0226       5.1447
bb.gem.m8.HitTimeSigmaFit =       8.1696        7.648

bb.gem.m8.ADCasym_sigma =     0.067865
bb.gem.m8.ADCratio_sigma =      0.12991
bb.gem.m8.ADCratio_sigma_deconv =      0.13429

bb.gem.m8.sigma_tcorr =       4.3258

bb.gem.m9.maxstrip_t0 =      78.79      81.46
bb.gem.m9.maxstrip_tsigma =      7.295      6.828
bb.gem.m9.maxstrip_tcut =        4.5        4.5

bb.gem.m9.maxstrip_t0_deconv =      34.04      43.63
bb.gem.m9.maxstrip_tsigma_deconv =      13.69      12.16
bb.gem.m9.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m9.maxstrip_t0_fit =      7.193      9.717
bb.gem.m9.maxstrip_tsigma_fit =       9.04      9.057
bb.gem.m9.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m9.deltat_sigma =       2.4418
bb.gem.m9.deltat_cut =       24.418
bb.gem.m9.deltat_sigma_deconv =       7.3355
bb.gem.m9.deltat_cut_deconv =       73.355
bb.gem.m9.deltat_sigma_fit =       3.0441
bb.gem.m9.deltat_cut_fit =       30.441

bb.gem.m9.HitTimeMean =       77.467       79.791
bb.gem.m9.HitTimeSigma =       7.0859       6.2699
bb.gem.m9.HitTimeMeanDeconv =       30.869       38.601
bb.gem.m9.HitTimeSigmaDeconv =       13.068       11.935
bb.gem.m9.HitTimeMeanFit =       5.8284       7.8245
bb.gem.m9.HitTimeSigmaFit =       8.6007       8.5304

bb.gem.m9.ADCasym_sigma =     0.055591
bb.gem.m9.ADCratio_sigma =       0.1089
bb.gem.m9.ADCratio_sigma_deconv =      0.12313

bb.gem.m9.sigma_tcorr =       4.6506

bb.gem.m10.maxstrip_t0 =      78.95      80.11
bb.gem.m10.maxstrip_tsigma =      7.326      6.912
bb.gem.m10.maxstrip_tcut =        4.5        4.5

bb.gem.m10.maxstrip_t0_deconv =      33.34       37.3
bb.gem.m10.maxstrip_tsigma_deconv =      13.71      13.26
bb.gem.m10.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m10.maxstrip_t0_fit =       7.62      8.692
bb.gem.m10.maxstrip_tsigma_fit =      8.876      9.017
bb.gem.m10.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m10.deltat_sigma =       2.4509
bb.gem.m10.deltat_cut =       24.509
bb.gem.m10.deltat_sigma_deconv =       7.6078
bb.gem.m10.deltat_cut_deconv =       76.078
bb.gem.m10.deltat_sigma_fit =       2.9025
bb.gem.m10.deltat_cut_fit =       29.025

bb.gem.m10.HitTimeMean =       77.762       78.312
bb.gem.m10.HitTimeSigma =       7.1032       6.6897
bb.gem.m10.HitTimeMeanDeconv =       30.178       32.239
bb.gem.m10.HitTimeSigmaDeconv =       13.134       13.037
bb.gem.m10.HitTimeMeanFit =        6.455       6.7188
bb.gem.m10.HitTimeSigmaFit =       8.4679        8.335

bb.gem.m10.ADCasym_sigma =     0.065143
bb.gem.m10.ADCratio_sigma =      0.12671
bb.gem.m10.ADCratio_sigma_deconv =      0.13859

bb.gem.m10.sigma_tcorr =       4.7558

bb.gem.m11.maxstrip_t0 =       75.3      76.43
bb.gem.m11.maxstrip_tsigma =      7.704      6.701
bb.gem.m11.maxstrip_tcut =        4.5        4.5

bb.gem.m11.maxstrip_t0_deconv =      25.64      29.63
bb.gem.m11.maxstrip_tsigma_deconv =      14.84      12.36
bb.gem.m11.maxstrip_tcut_deconv =        4.5        4.5

bb.gem.m11.maxstrip_t0_fit =      3.961      4.528
bb.gem.m11.maxstrip_tsigma_fit =      8.788      8.231
bb.gem.m11.maxstrip_tcut_fit =        4.5        4.5

bb.gem.m11.deltat_sigma =       2.4015
bb.gem.m11.deltat_cut =       24.015
bb.gem.m11.deltat_sigma_deconv =       8.2845
bb.gem.m11.deltat_cut_deconv =       82.845
bb.gem.m11.deltat_sigma_fit =       2.9062
bb.gem.m11.deltat_cut_fit =       29.062

bb.gem.m11.HitTimeMean =       74.155       74.423
bb.gem.m11.HitTimeSigma =       7.5868       6.7737
bb.gem.m11.HitTimeMeanDeconv =       23.305       24.568
bb.gem.m11.HitTimeSigmaDeconv =         13.7       11.975
bb.gem.m11.HitTimeMeanFit =       2.7872       2.8122
bb.gem.m11.HitTimeSigmaFit =       8.8069       8.1499

bb.gem.m11.ADCasym_sigma =     0.055144
bb.gem.m11.ADCratio_sigma =      0.10534
bb.gem.m11.ADCratio_sigma_deconv =       0.1165

bb.gem.m11.sigma_tcorr =       4.6845

#bb.gem.usestriptimingcut = 1


###############################################################################	

###################### END? TIME-DEPENDENT CLUSTERING PARAMETERS #############



###################### TIME-DEPENDENT PEDESTAL FILES ##########################

# time-dependent entries:
# default value from the beginning of time:
--------[ 2021-01-01 00:00:00 ]
bb.gem.pedfile = gemped/daq_ped_bb_gem_run220.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run220.dat

# new pedestals from run 814:

--------[ 2021-09-19 00:00:00 ]
bb.gem.pedfile = gemped/daq_ped_bb_gem_run814.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run814.dat


--------[ 2021-09-21 14:30:00 ]
bb.gem.pedfile = gemped/daq_ped_bb_gem_run902.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run902.dat

-------[ 2021-09-22 09:22:00 ] # start of first run after fibers 2 and 3 swapped:
#------[ 2021-09-25 06:45:00 ]
bb.gem.pedfile = gemped/daq_ped_bb_gem_run10363.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run10363.dat

--------[ 2021-09-27 00:46:14 ] # start of first run after fibers 2 and 3 swapped back to original connections:
bb.gem.pedfile = gemped/daq_ped_bb_gem_run10431.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run10431.dat

--------[ 2021-09-30 12:40:00 ] # new pedestals from run 1053
bb.gem.pedfile = gemped/daq_ped_bb_gem_run1053.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run1053.dat

--------[ 2021-10-06 22:56:00 ] # new pedestals from run 1115
bb.gem.pedfile = gemped/daq_ped_bb_gem_run1115.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run1115.dat

--------[ 2021-10-11 12:27:00 ] # run 10975
bb.gem.pedfile = gemped/daq_ped_bb_gem_run10975.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run10975.dat

--------[ 2021-10-14 01:56:00 ] # run 11072
bb.gem.pedfile = gemped/daq_ped_bb_gem_run11072.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run11072.dat

--------[ 2021-10-21 09:00:00 ] # run 11440
bb.gem.pedfile = gemped/daq_ped_bb_gem_run11440.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run11440.dat

--------[ 2021-10-21 17:00:00 ] # run 11462
bb.gem.pedfile = gemped/daq_ped_bb_gem_run11462.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run11462.dat

--------[ 2021-11-12 16:00:00 ] # run 11936
bb.gem.pedfile = gemped/daq_ped_bb_gem_run11936.dat
bb.gem.cmfile = gemped/db_cmr_bb_gem_run11936.dat

#################### END OF TIME-DEPENDENT PEDESTAL FILES #########################

--------[ 2021-01-01 00:00:00 ] # anything here will override earlier entries (I think), but any module-specific parameter definitions above will still supersede any global definitions below (I think)


# zero out thresholds that control clustering behavior (only basic zero suppression is active):


-------[ 2021-10-21 00:00:00 ] # SBS-4

bb.gem.use_enhanced_chi2 = 1
bb.gem.minhighqualityhitsontrack = 1


bb.gem.m0.threshold_sample = 0.0
bb.gem.m1.threshold_sample = 0.0
bb.gem.m2.threshold_sample = 0.0
bb.gem.m3.threshold_sample = 0.0
bb.gem.m4.threshold_sample = 0.0
bb.gem.m5.threshold_sample = 0.0
bb.gem.m6.threshold_sample = 0.0
bb.gem.m7.threshold_sample = 0.0
bb.gem.m8.threshold_sample = 0.0
bb.gem.m9.threshold_sample = 0.0
bb.gem.m10.threshold_sample = 0.0
bb.gem.m11.threshold_sample = 0.0

bb.gem.m0.threshold_stripsum = 0.0
bb.gem.m1.threshold_stripsum = 0.0
bb.gem.m2.threshold_stripsum = 0.0
bb.gem.m3.threshold_stripsum = 0.0
bb.gem.m4.threshold_stripsum = 0.0
bb.gem.m5.threshold_stripsum = 0.0
bb.gem.m6.threshold_stripsum = 0.0
bb.gem.m7.threshold_stripsum = 10000.0
bb.gem.m8.threshold_stripsum = 0.0
bb.gem.m9.threshold_stripsum = 0.0
bb.gem.m10.threshold_stripsum = 0.0
bb.gem.m11.threshold_stripsum = 0.0

bb.gem.m0.threshold_clustersum = 0.0
bb.gem.m1.threshold_clustersum = 0.0
bb.gem.m2.threshold_clustersum = 0.0
bb.gem.m3.threshold_clustersum = 0.0
bb.gem.m4.threshold_clustersum = 0.0
bb.gem.m5.threshold_clustersum = 0.0
bb.gem.m6.threshold_clustersum = 0.0
bb.gem.m7.threshold_clustersum = 0.0
bb.gem.m8.threshold_clustersum = 0.0
bb.gem.m9.threshold_clustersum = 0.0
bb.gem.m10.threshold_clustersum = 0.0
bb.gem.m11.threshold_clustersum = 0.0

-------[ 2021-11-12 00:00:00 ] # SBS-7

bb.gem.use_enhanced_chi2 = 1
bb.gem.minhighqualityhitsontrack = 1
bb.gem.trackchi2cut = 30.0
bb.gem.trackchi2cut_hitquality = 40.0
